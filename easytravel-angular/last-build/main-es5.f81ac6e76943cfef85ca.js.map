{"version":3,"sources":["webpack:///node_modules/moment/locale sync ^\\.\\/.*$","webpack:///src/$_lazy_route_resource lazy namespace object","webpack:///src/app/services/events.service.ts","webpack:///src/app/services/data.service.ts","webpack:///src/app/services/user.service.ts","webpack:///src/app/services/plugins.service.ts","webpack:///src/app/services/bizevent.service.ts","webpack:///src/app/models/event.ts","webpack:///src/app/models/user.ts","webpack:///src/environments/environment.ts","webpack:///src/app/models/bizevent.ts","webpack:///src/app/models/problemScenarios.ts","webpack:///src/app/components/header/header.component.html","webpack:///src/app/components/header/header.component.ts","webpack:///src/app/components/footer/footer.component.ts","webpack:///src/app/components/hero/hero.component.ts","webpack:///src/app/services/adobe.service.ts","webpack:///src/app/services/location.service.ts","webpack:///src/app/components/main-layout/main-layout.component.ts","webpack:///src/app/components/offer-stat/offer-stat.component.ts","webpack:///src/app/components/gallery/gallery.component.ts","webpack:///src/app/services/journey.service.ts","webpack:///src/app/components/offer/offer.component.ts","webpack:///src/app/components/footer/footer.component.html","webpack:///src/app/components/main-layout/main-layout.component.html","webpack:///src/app/components/hero/hero.component.html","webpack:///src/app/components/gallery/gallery.component.html","webpack:///src/app/components/offer-stat/offer-stat.component.html","webpack:///src/app/components/offer/offer.component.html","webpack:///src/app/components/offers-list/offers-list.component.html","webpack:///src/app/components/offers-list/offers-list.component.ts","webpack:///src/app/services/booking.service.ts","webpack:///src/app/models/bookingResponse.ts","webpack:///src/app/components/recently-booked/recently-booked.component.html","webpack:///src/app/components/recently-booked/recently-booked.component.ts","webpack:///src/app/services/config.service.ts","webpack:///src/app/components/home-main/home-main.component.ts","webpack:///src/app/components/home-main/home-main.component.html","webpack:///src/app/components/footnote/footnote.component.html","webpack:///src/app/components/footnote/footnote.component.ts","webpack:///src/app/components/weather/weather.component.ts","webpack:///src/app/pipes/safe.pipe.ts","webpack:///src/app/components/home/home.component.ts","webpack:///src/app/components/home/home.component.html","webpack:///src/app/components/weather/weather.component.html","webpack:///src/app/components/search/search.component.html","webpack:///src/app/components/search/search.component.ts","webpack:///src/app/components/journey-summary/journey-summary.component.html","webpack:///src/app/components/journey-summary/journey-summary.component.ts","webpack:///src/app/components/journey/journey.component.html","webpack:///src/app/components/journey/journey.component.ts","webpack:///src/app/models/bookingRequest.ts","webpack:///src/app/components/login-form/login-form.component.html","webpack:///src/app/components/login-form/login-form.component.ts","webpack:///src/app/services/creditcard-validation.service.ts","webpack:///src/app/components/billing/billing.component.html","webpack:///src/app/components/billing/billing.component.ts","webpack:///src/app/components/book-journey/book-journey.component.html","webpack:///src/app/components/book-journey/book-journey.component.ts","webpack:///src/app/components/login/login.component.ts","webpack:///src/app/components/contact/contact.component.ts","webpack:///src/app/components/contact/contact.component.html","webpack:///src/app/components/login/login.component.html","webpack:///src/app/components/signup-form/custom-signup-validations.ts","webpack:///src/app/components/signup-form/signup-form.component.html","webpack:///src/app/components/signup-form/signup-form.component.ts","webpack:///src/app/components/error-page/error-page.component.ts","webpack:///src/app/components/signup/signup.component.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/components/signup/signup.component.html","webpack:///src/app/components/error-page/error-page.component.html","webpack:///src/enable-open-telemetry.ts","webpack:///src/app/app.component.html","webpack:///src/app/app-error-handler.ts","webpack:///src/app/app.module.ts","webpack:///src/main.ts"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","webpackEmptyAsyncContext","Promise","then","EventsService","DataService","UserService","PluginService","BizEventService","Event","name","attributes","dynatrace","window","dtrum","searchedDestination","searchedDestinationValue","event","sendEvent","reportError","User","firstname","lastname","email","password","creditCardNumber","verificationNumber","expirationMonth","expirationYear","loyaltyStatus","state","city","street","door","phone","this","adults","children","travellers","BASE_URL","loadSession","storedSession","localStorage","getItem","JSON","parse","http","dataService","loginUser","post","pipe","response","createSession","session","extractUser","user","mapToUser","newUser","catchError","handleError","result","error","status","errorMessage","of","match","options","params","set","get","removeItem","setItem","stringify","BizEvent","type","ProblemScenarios","realTimeUpdateRecentBooking","max3Travelers","ABtesting","scrollOnReview","weatherApp","phpEnabled","bizEvents","environment","pluginScenarios","BehaviorSubject","updatePluginToScenarioMapping","plugins","scenarios","value","includes","next","pluginService","searchTerm","fromDate","toDate","numberOfTravelers","numberOfResults","product","journeyDuration","startPrice","reviewScore","resultPosition","entryPage","organizer","amount","arrivalDate","departureDate","adultTravelers","childrenTravelers","userID","page","cCExpirationDate","getOrGenerateProvider","failure","firstName","lastName","reason","sendBizEvent","Math","round","provider","random","floor","FooterComponent","HeaderComponent","HeroComponent","AdobeService","LocationService","MainLayoutComponent","OfferStatComponent","GalleryComponent","JourneyService","OfferComponent","eRef","userService","router","bizEventService","openMenu","nativeElement","contains","target","isAuthorized","bizEvent","createS13","logout","navigate","route","url","endSession","encodeURIComponent","s","pageName","pageURL","pageType","eVar1","eVar2","eVar3","eVar4","prop1","prop2","numberOfPassengers","keyword","dateFrom","dateTo","locationService","adobeService","eventsService","datePickerConfig","format","locations","searchLocations","subParams","queryParams","subscribe","numberOfPeople","selectedLocation","unsubscribe","location","assign","toString","setSearchParams","createS02","createS01","searchResults","currentSearchResults","asObservable","text","from","to","length","Observable","getSearchJourneyUrl","postsPresent","console","log","reportCustomError","onSlide","stat","formatPrice","price","strPrice","slice","offer","fOffer","title","rating","averageTotal","days","images","currentPath","previousPath","nextPath","OffersListComponent","BookingService","offers","_offers","_inline","inline","BookingResponse","bookingRequest","limit","ConfigService","HomeMainComponent","RecentlyBookedComponent","bookingService","recentBookingFetchLimit","updateRecentBooking","realTimeUpdate","timerId","setInterval","clearInterval","self","getRecentBookings","res","recentBookings","booking","journey","triggerUpdateMode","journeyService","specialOffers","activityOffers","getSpecialOffers","journeys","getRecommendation","r","WeatherComponent","SafePipe","HomeComponent","FootnoteComponent","configService","getBlogUrl","blogUrl","sanitizer","bypassSecurityTrustResourceUrl","isForecast","_link","link","indexOf","SearchComponent","recommendedOffers","updateJournerys","searchJourneysByText","a","enterAction","leaveAction","createS03","getNodejsUrl","nodejsurl","JourneySummaryComponent","additionalEntries","JourneyComponent","fb","datePipe","realTimeUpdateRecentBookings","bookNowForm","group","travelers","paramsSub","setSelectedJourney","getJourneyById","getJourneyPostCount","journeyPostCount","createS04","countJourneyDayCount","formChangesSubscription","valueChanges","selections","setJourneyPassengers","determineTravellers","createS05","href","tenant","Date","toJSON","destination","transform","BookingRequest","journeyId","username","creditcard","CreditCardValidationService","LoginFormComponent","authorized","autoFill","autoFillLogins","searchUsers","observer","Array","complete","createS12","authenticate","emit","login","focus","autoLogin","BillingComponent","creditcardService","finish","number1","number2","number3","number4","months","years","cvc","numberError","cvcError","initCreditCardMonthAndYear","autoFillCardDetails","today","month","getMonth","year","getFullYear","index","push","generateRandomNumberString","generateRandomMonth","generateRandomExpiryYear","range","pow","b","numberPartRegexp","valid","createS10","createS09","validateCardSyntax","validateCreditCard","book","LoginComponent","ContactComponent","BookJourneyComponent","step","bookingConfirmed","sub","setJourneyPrice","sendStep2Event","createS06","createS08","recentlyBooked","scrollIntoView","bookingReq","doBooking","createS11","bookingId","bookingStatusError","CustomSignupValidations","AC","setErrors","MatchPassword","MatchEmail","SignupFormComponent","ErrorPageComponent","SignupComponent","AppRoutingModule","AppComponent","formBuilder","form","compose","required","minLength","confirmEmail","confirmPassword","validator","MatchFieldValidations","createS14","field","touched","untouched","formSubmitAttempt","createS15","signin","errorBizEvent","createS16","onSubmit","routes","path","redirectTo","pathMatch","component","goHome","forRoot","refreshPluginsList","WebTracerProvider","DocumentLoad","UserInteractionPlugin","XMLHttpRequestInstrumentation","ignoreUrls","FetchPlugin","addSpanProcessor","SimpleSpanProcessor","CollectorTraceExporter","serviceName","register","contextManager","ZoneContextManager","events","forEach","pageUrl","hostname","pathname","setPageParams","Intercom","param","AppModule","AppErrorHandler","library","addIcons","provide","useClass","defineProperty","bootstrapModule","err"],"mappings":"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","file":"x","sourcesContent":["var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn-bd\": \"loYQ\",\n\t\"./bn-bd.js\": \"loYQ\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-in\": \"7C5Q\",\n\t\"./en-in.js\": \"7C5Q\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./en-sg\": \"t+mt\",\n\t\"./en-sg.js\": \"t+mt\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-mx\": \"tbfe\",\n\t\"./es-mx.js\": \"tbfe\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fil\": \"1ppg\",\n\t\"./fil.js\": \"1ppg\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-deva\": \"qvJo\",\n\t\"./gom-deva.js\": \"qvJo\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./oc-lnc\": \"Fnuy\",\n\t\"./oc-lnc.js\": \"Fnuy\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tk\": \"Wv91\",\n\t\"./tk.js\": \"Wv91\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-mo\": \"OmwH\",\n\t\"./zh-mo.js\": \"OmwH\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"crnd\";","import { Injectable } from '@angular/core';\nimport { Event } from '@models/event';\n\nexport interface JSONObject { [k: string]: JSONValue; }\nexport type Primitive = string | number | boolean;\nexport type JSONArray = JSONValue[];\nexport type JSONValue = JSONArray | JSONObject | Primitive;\n\ndeclare global {\n  interface Window {\n    dynatrace?: {\n      sendEvent(name: string, attributes: JSONObject): void;\n      sendBizEvent(name: string, attributes: JSONObject): void;\n    };\n    dtrum?: {\n      reportError(error: Error): void;\n    };\n  }\n}\n\nconst dynatrace = window.dynatrace;\nconst dtrum = window.dtrum;\n\n@Injectable()\nexport class EventsService {\n\n  public createS01(searchedDestination: string | { name: string; }): Event {\n    let searchedDestinationValue = searchedDestination;\n    if (typeof searchedDestinationValue === 'object') {\n      searchedDestinationValue = searchedDestinationValue.name;\n    }\n    return new Event(\n      'Search for Destination',\n      { 'searched_destination': searchedDestinationValue }\n    );\n  }\n\n  public sendEvent(event: Event) {\n    if (typeof dynatrace?.sendEvent === 'function') {\n      try {\n        dynatrace.sendEvent(event.name, event.attributes);\n      } catch (e) {\n        dtrum.reportError(e);\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { Journey } from '@models/journey';\r\n\r\n\r\n@Injectable()\r\nexport class DataService {\r\n  public errorMessage: string;\r\n  public travellers: string;\r\n  public journey: Journey;\r\n  public adults: number;\r\n  public children: number;\r\n  public provider: string;\r\n\r\n  public determineTravellers() {\r\n    this.adults = 1;\r\n    this.children = 0;\r\n\r\n    if (this.travellers == \"4\" || this.travellers == \"5\" || this.travellers == \"6\") {\r\n      this.adults = 2;\r\n    }\r\n    if (this.travellers == \"2\" || this.travellers == \"5\") {\r\n      this.children = 1;\r\n    }\r\n    else if (this.travellers == \"3\" || this.travellers == \"6\") {\r\n      this.children = 2;\r\n    }\r\n  }\r\n}\r\n","  import { Injectable } from '@angular/core';\n  import { HttpClient, HttpParams } from '@angular/common/http';\n  import { Observable, of } from 'rxjs';\n  import { catchError, map } from 'rxjs/operators';\n  import { User } from '@models/user';\n  import { Loginuser } from '@models/loginUser';\n  import { environment } from '../../environments/environment';\n  import { DataService } from '@services/data.service';\n\n  const BASE_URL = environment.serverUrl;\n  const SESSION_KEY = 'easytravel/session';\n\n  const saveSession = session => {\n    localStorage.setItem(SESSION_KEY, JSON.stringify(session));\n  };\n\n  const deleteSession = () => {\n    localStorage.removeItem(SESSION_KEY);\n  };\n\n  const loadSession = () => {\n    const storedSession = localStorage.getItem(SESSION_KEY);\n    const session = storedSession ? JSON.parse(storedSession) : null;\n    return session;\n  };\n\n  @Injectable()\n  export class UserService {\n\n    constructor(private http: HttpClient, private dataService: DataService) { }\n\n    authenticate(loginUser: Loginuser): Observable<any> {\n      return this.http.post(BASE_URL + 'login', loginUser)\n        .pipe\n        (\n          map(response => this.createSession(response)),\n          map(session => this.extractUser(session)),\n          map(user => this.mapToUser(user))\n        );\n    }\n\n    signin(newUser): Observable<any> {\n      return this.http.post(BASE_URL + 'signin', newUser)\n      .pipe\n      (\n        catchError(this.handleError('signin'))\n      );\n    }\n\n    private handleError<T> (operation = 'operation', result?: T) {\n      return (error: any): Observable<T> => {\n        // if the error is the generated 403, then report it\n        if (error.status === 403) {\n          this.dataService.errorMessage = error.error.error;\n        }\n\n        // Let the app keep running by returning an empty result.\n        return of(result as T);\n      };\n    }\n\n    searchUsers(match: string): Observable<Loginuser[]> {\n      if (match) {\n        const options =  { params: new HttpParams().set('match', match) };\n        return this.http.get(BASE_URL + 'users', options)\n          .pipe(map(response => response as Loginuser[]));\n      } else {\n        return this.http.get(BASE_URL + 'users/random')\n          .pipe(map(response => response as Loginuser[]));\n      }\n    }\n\n    logout() {\n      deleteSession();\n      return Promise.resolve();\n    }\n\n    isAuthorized(): boolean {\n      return !!loadSession();\n    }\n\n    session(): any {\n      return loadSession();\n    }\n\n    private createSession(session) {\n      saveSession(session);\n      return session;\n    }\n\n    private extractUser(session) {\n      return session.user;\n    }\n\n    private mapToUser(user) {\n      const firstname = user.firstname || '';\n      const lastname = user.lastname || '';\n      const email = user.email || '';\n      const password = user.password || '';\n      const ccNumber = user.creditCardNumber || null;\n      const vNumber = user.verificationNumber || null;\n      const eMonth = user.expirationMonth || '';\n      const eYear = user.expirationYear || null;\n      const loyaltyStatus = user.loyaltyStatus || '';\n\n      return new User(firstname, lastname, email, password, ccNumber, vNumber, eMonth, eYear, loyaltyStatus);\n    }\n  }\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, BehaviorSubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { ProblemScenarios } from '@models/problemScenarios';\nimport { environment } from '../../environments/environment';\n\nconst PROBLEM_PATTERNS = {\n    webPageRequestSpamming: 'WebPageRequestSpamming',\n    max3Travelers : 'JsErrorWhenSelectingTravelers',\n    ABtesting: 'UsabilityIssue',\n    scrollOnReview: 'UsabilityIssueInSmallScreens',\n    weatherApp: 'NodeJSWeatherApplication',\n    phpEnabled: 'PHPEnablementPlugin',\n    bizEvents: 'BizEventsPlugin'\n};\n\n@Injectable()\nexport class PluginService {\n  private BASE_URL = environment.serverUrl + 'plugins';\n  public readonly pluginScenarios = new BehaviorSubject<ProblemScenarios>(new ProblemScenarios());\n\n  constructor(private http: HttpClient) { }\n\n  public refreshPluginsList(): Observable<string[]> {\n    return this.http.get(this.BASE_URL + '/enabled')\n      .pipe(map((response) => {\n        this.updatePluginToScenarioMapping(response as string[]);\n        return response as string[];\n      }));\n  }\n\n  private updatePluginToScenarioMapping(plugins: string[]) {\n    const scenarios = this.pluginScenarios.value;\n    scenarios.realTimeUpdateRecentBooking = plugins.includes(PROBLEM_PATTERNS.webPageRequestSpamming);\n    scenarios.max3Travelers = plugins.includes(PROBLEM_PATTERNS.max3Travelers);\n    scenarios.ABtesting = plugins.includes(PROBLEM_PATTERNS.ABtesting);\n    scenarios.scrollOnReview = plugins.includes(PROBLEM_PATTERNS.scrollOnReview);\n    scenarios.weatherApp = plugins.includes(PROBLEM_PATTERNS.weatherApp);\n    scenarios.phpEnabled = plugins.includes(PROBLEM_PATTERNS.phpEnabled);\n    scenarios.bizEvents = plugins.includes(PROBLEM_PATTERNS.bizEvents);\n    this.pluginScenarios.next(scenarios);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BizEvent } from '@models/bizevent';\nimport { Guid } from \"guid-typescript\";\nimport { DataService } from '@services/data.service';\nimport { PluginService } from '@services/plugins.service';\n\nconst dynatrace = window.dynatrace;\nconst dtrum = window.dtrum;\n\nconst MS_IN_DAY = 864e5;\n\n@Injectable()\nexport class BizEventService {\n\n  constructor(\n    private dataService: DataService,\n    private pluginService: PluginService\n  ) { }\n\n  public createS02(searchTerm: string, fromDate: string, toDate: string, numberOfTravelers: string): BizEvent {\n  \tlet attributes ={\n  \t  \"searchTerm\": searchTerm,\n      \"fromDate\": fromDate,\n      \"toDate\": toDate,\n      \"numberOfTravelers\": numberOfTravelers\n  \t};\n    return new BizEvent('com.easytravel.frontend.search-triggered', attributes);\n  }\n\n  public createS03(searchTerm: string, fromDate: string, toDate: string, numberOfTravelers: string, numberOfResults: number): BizEvent {\n    let attributes ={\n      \"searchTerm\": searchTerm,\n      \"fromDate\": fromDate,\n      \"toDate\": toDate,\n      \"numberOfTravelers\": numberOfTravelers,\n      \"numberOfResults\": numberOfResults\n    };\n    return new BizEvent('com.easytravel.frontend.search-result', attributes);\n  }\n\n  public createS04(product: string, journeyDuration: number, startPrice: number, reviewScore: string, resultPosition: number): BizEvent {\n    let attributes ={\n      \"product\": product,\n      \"journeyDuration\": journeyDuration,\n      \"startPrice\": startPrice,\n      \"reviewScore\": reviewScore,\n      \"resultPosition\": resultPosition\n    };\n    return new BizEvent('com.easytravel.funnel.product-view', attributes);\n  }\n\n  public createS05(entryPage: string, product: string, organizer: string, amount: number,\n    reviewScore: string, arrivalDate: string, departureDate: string, journeyDuration: number,\n    adultTravelers: number, childrenTravelers: number): BizEvent {\n\n    let attributes ={\n      \"entryPage\": entryPage,\n      \"product\": product,\n      \"organizer\": organizer,\n      \"amount\": amount,\n      \"currency\": \"USD\",\n      \"reviewScore\": reviewScore,\n      \"arrivalDate\": arrivalDate,\n      \"departureDate\": departureDate,\n      \"journeyDuration\": journeyDuration,\n      \"adultTravelers\": adultTravelers,\n      \"childrenTravelers\": childrenTravelers\n    };\n    return new BizEvent('com.easytravel.frontend.booking-process-triggered', attributes);\n  }\n\n  public createS06(userID: string, page: string, product: string, organizer: string, amount: number,\n    reviewScore: string, arrivalDate: string, departureDate: string, journeyDuration: number,\n    adultTravelers: number, childrenTravelers: number): BizEvent {\n\n    let attributes ={\n      \"userId\": userID,\n      \"page\": page,\n      \"product\": product,\n      \"organizer\": organizer,\n      \"amount\": amount,\n      \"currency\": \"USD\",\n      \"reviewScore\": reviewScore,\n      \"arrivalDate\": arrivalDate,\n      \"departureDate\": departureDate,\n      \"journeyDuration\": journeyDuration,\n      \"adultTravelers\": adultTravelers,\n      \"childrenTravelers\": childrenTravelers\n    };\n    return new BizEvent('com.easytravel.frontend.login', attributes);\n  }\n\n  public createS08(page: string, product: string, organizer: string, amount: number,\n    reviewScore: string, arrivalDate: string, departureDate: string, journeyDuration: number,\n    adultTravelers: number, childrenTravelers: number, loyaltyStatus: string): BizEvent {\n\n    let attributes ={\n      \"page\": page,\n      \"product\": product,\n      \"organizer\": organizer,\n      \"amount\": amount,\n      \"currency\": \"USD\",\n      \"reviewScore\": reviewScore,\n      \"arrivalDate\": arrivalDate,\n      \"departureDate\": departureDate,\n      \"journeyDuration\": journeyDuration,\n      \"adultTravelers\": adultTravelers,\n      \"childrenTravelers\": childrenTravelers,\n      \"loyaltyStatus\": loyaltyStatus\n    };\n    return new BizEvent('com.easytravel.funnel.booking-review', attributes);\n  }\n\n  public createS09(page: string, cCExpirationDate: string, product: string, organizer: string,\n    amount: number, reviewScore: string, arrivalDate: string, departureDate: string,\n    journeyDuration: number, adultTravelers: number, childrenTravelers: number, loyaltyStatus: string): BizEvent {\n\n    let attributes ={\n      \"page\": page,\n      \"ccExpirationDate\": cCExpirationDate,\n      \"ccProvider\": this.getOrGenerateProvider(),\n      \"product\": product,\n      \"organizer\": organizer,\n      \"amount\": amount,\n      \"currency\": \"USD\",\n      \"reviewScore\": reviewScore,\n      \"arrivalDate\": arrivalDate,\n      \"departureDate\": departureDate,\n      \"journeyDuration\": journeyDuration,\n      \"adultTravelers\": adultTravelers,\n      \"childrenTravelers\": childrenTravelers,\n      \"loyaltyStatus\": loyaltyStatus\n    };\n    return new BizEvent('com.easytravel.funnel.booking-payment', attributes);\n  }\n\n  public createS10(page: string, failure: string[], product: string, organizer: string,\n    amount: number, reviewScore: string, arrivalDate: string, departureDate: string,\n    journeyDuration: number, adultTravelers: number, childrenTravelers: number, loyaltyStatus: string): BizEvent {\n\n    let attributes ={\n      \"page\": page,\n      \"failure\": failure,\n      \"ccProvider\": this.getOrGenerateProvider(),\n      \"product\": product,\n      \"organizer\": organizer,\n      \"amount\": amount,\n      \"currency\": \"USD\",\n      \"reviewScore\": reviewScore,\n      \"arrivalDate\": arrivalDate,\n      \"departureDate\": departureDate,\n      \"journeyDuration\": journeyDuration,\n      \"adultTravelers\": adultTravelers,\n      \"childrenTravelers\": childrenTravelers,\n      \"loyaltyStatus\": loyaltyStatus\n    };\n    return new BizEvent('com.easytravel.funnel.booking-payment-failure', attributes);\n  }\n\n  public createS11(page: string, cCExpirationDate: string, product: string, organizer: string,\n    amount: number, reviewScore: string, arrivalDate: string, departureDate: string,\n    journeyDuration: number, adultTravelers: number, childrenTravelers: number, loyaltyStatus: string): BizEvent {\n\n    let attributes ={\n      \"page\": page,\n      \"ccExpirationDate\": cCExpirationDate,\n      \"ccProvider\": this.getOrGenerateProvider(),\n      \"product\": product,\n      \"organizer\": organizer,\n      \"amount\": amount,\n      \"currency\": \"USD\",\n      \"reviewScore\": reviewScore,\n      \"arrivalDate\": arrivalDate,\n      \"departureDate\": departureDate,\n      \"journeyDuration\": journeyDuration,\n      \"adultTravelers\": adultTravelers,\n      \"childrenTravelers\": childrenTravelers,\n      \"loyaltyStatus\": loyaltyStatus\n    };\n    return new BizEvent('com.easytravel.funnel.booking-finished', attributes);\n  }\n\n  public createS12(userID: string): BizEvent {\n\n    let attributes ={\n      \"userId\": userID\n    };\n    return new BizEvent('com.easytravel.funnel.signin', attributes);\n  }\n\n  public createS13(userID: string, loyaltyStatus: string): BizEvent {\n\n    let attributes ={\n      \"userId\": userID,\n      \"loyaltyStatus\": loyaltyStatus\n    };\n    return new BizEvent('com.easytravel.funnel.logout', attributes);\n  }\n\n  public createS14(): BizEvent {\n\n    let attributes ={};\n    return new BizEvent('com.easytravel.funnel.signup-triggered', attributes);\n  }\n\n  public createS15(firstName: string, lastName: string, email: string, state: string, city: string, street: string,\n    door: string, phone: string): BizEvent {\n\n    let attributes ={\n      \"firstName\": firstName,\n      \"lastName\": lastName,\n      \"email\": email,\n      \"state\": state,\n      \"city\": city,\n      \"street\": street,\n      \"door\": door,\n      \"phone\": phone\n    };\n    return new BizEvent('com.easytravel.funnel.signup', attributes);\n  }\n\n  public createS16(reason: string[]): BizEvent {\n    let attributes ={\n      \"reason\": reason\n    };\n    return new BizEvent('com.easytravel.funnel.signup-failure', attributes);\n  }\n\n  public sendBizEvent(event: BizEvent) {\n    let bizEvents = this.pluginService.pluginScenarios.value.bizEvents;\n\n    if (typeof dynatrace !== 'undefined' && typeof dynatrace['sendBizEvent'] === 'function' && bizEvents == true) {\n      try {\n        dynatrace.sendBizEvent(event.type, event.attributes);\n      }\n      catch (e) {\n        dtrum.reportError(e);\n      }\n    }\n  }\n\n  public countJourneyDayCount(fromDate: number, toDate: number): number {\n    return Math.round((toDate - fromDate) / MS_IN_DAY);\n  }\n\n  private getOrGenerateProvider() {\n    let provider = this.dataService.provider;\n\n    if (!provider) {\n      const random = Math.floor(Math.random()*1000);\n\n      if (random < 400) {\n        this.dataService.provider = \"Visa\";\n      }\n      else if (random < 800) {\n        this.dataService.provider = \"Mastercard\";\n      }\n      else {\n        this.dataService.provider = \"American Express\";\n      }\n\n      provider = this.dataService.provider\n    }\n\n    return provider;\n  }\n}\n","import { JSONObject } from '@services/events.service';\n\nexport class Event {\n  constructor (public name: string,\n               public attributes: JSONObject) {\n  }\n}\n","export class User {\r\n    firstname: string;\r\n    lastname: string;\r\n    email: string;\r\n    password: string;\r\n    creditCardNumber: number;\r\n    verificationNumber: number;\r\n    expirationMonth: string;\r\n    expirationYear: number;\r\n    state: string;\r\n    city: string;\r\n    street: string;\r\n    door: string;\r\n    phone: string;\r\n    loyaltyStatus: string;\r\n\r\n    constructor(firstname?: string, lastname?: string, email?: string, password?: string,\r\n                creditCardNumber?: number, verificationNumber?: number, expirationMonth?: string,\r\n                expirationYear?: number, loyaltyStatus?: string, state?: string, city?: string, street?: string,\r\n                door?: string, phone?: string) {\r\n        this.firstname = firstname || '';\r\n        this.lastname = lastname || '';\r\n        this.email = email || '';\r\n        this.password = password || '';\r\n        this.creditCardNumber = creditCardNumber || null;\r\n        this.verificationNumber = verificationNumber || null;\r\n        this.expirationMonth = expirationMonth || '';\r\n        this.expirationYear = expirationYear || null;\r\n        this.state = state || '';\r\n        this.city = city || '';\r\n        this.street = street || '';\r\n        this.door = door || '';\r\n        this.phone = phone || '';\r\n        this.loyaltyStatus = loyaltyStatus || '';\r\n    }\r\n}\r\n","export const environment = {\n  production: true,\n  serverUrl: '/easytravel/rest/'\n};\n","export class BizEvent {\n  type: string;\n  attributes: any;\n\n  constructor (type: string, attributes: any) {\n    this.type = type;\n    this.attributes = attributes;\n  }\n}\n","export class ProblemScenarios {\n    realTimeUpdateRecentBooking: boolean;\n    max3Travelers: boolean;\n    ABtesting: boolean;\n    scrollOnReview: boolean;\n    weatherApp: boolean;\n    phpEnabled: boolean;\n    bizEvents: boolean;\n    constructor () {\n        this.realTimeUpdateRecentBooking = false;\n        this.max3Travelers = false;\n        this.ABtesting = false;\n        this.scrollOnReview = false;\n        this.weatherApp = false;\n        this.phpEnabled = false;\n        this.bizEvents = false;\n    }\n}\n","<header [ngClass]=\"openMenu? 'opened-menu page-section header-section':'page-section header-section'\">\n  <a class=\"header-banner\" routerLink=\"/home\">\n    <img class=\"logo\" src=\"/assets/imgs/easytravel-logo.svg\">\n  </a>\n\n  <nav #headerMenu (click)=\"openMenu = !openMenu;\" class=\"header-navigation\">\n    <a *ngIf=\"isAuthorized()\" class=\"greeting\">Hi, {{ getUsername() }}</a>\n    <a id=\"header:specialoffers\" [class.active]=\"isActiveRoute('/home')\" routerLink=\"/home\">Special offers</a>\n    <a id=\"header:contact\" [class.active]=\"isActiveRoute('/contact')\" routerLink=\"/contact\">Contact</a>\n    <a id=\"header:login\" [class.active]=\"isActiveRoute('/login')\" routerLink=\"/login\" *ngIf=\"!isAuthorized()\">Login</a>\n    <a id=\"header:signup\" [class.active]=\"isActiveRoute('/signup')\" routerLink=\"/signup\" *ngIf=\"!isAuthorized()\">Sign\n      up</a>\n    <a id=\"header:logout\" *ngIf=\"isAuthorized()\" (click)=\"logout()\">Logout</a>\n  </nav>\n</header>","import { Component, ElementRef, HostListener } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UserService } from '@services/user.service';\nimport { BizEventService } from '@services/bizevent.service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent {\n\n  public openMenu = false;\n\n  constructor(\n    private eRef: ElementRef,\n    private userService: UserService,\n    private router: Router,\n    private bizEventService: BizEventService\n  ) { }\n\n  @HostListener('document:click', ['$event'])\n  clickout(event) {\n    if (!this.eRef.nativeElement.contains(event.target)) {\n      this.openMenu = false;\n    }\n  }\n\n  getUsername() {\n    const user = this.userService.session().user;\n    return user ?\n      user.firstName + ' ' + user.lastName\n      : '';\n  }\n\n  isAuthorized() {\n    return this.userService.isAuthorized();\n  }\n\n  logout() {\n    let bizEvent = this.bizEventService.createS13(this.userService.session().user.email, this.userService.session().user.loyaltyStatus);\n    this.bizEventService.sendBizEvent(bizEvent);\n\n    this.userService.logout()\n      .then(() => {\n        this.router.navigate(['/login']);\n      });\n  }\n\n  isActiveRoute(route: string): boolean {\n    return this.router.url === route;\n  }\n}\n","import { Component } from '@angular/core';\n\ndeclare var dtrum: any;\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.css']\n})\nexport class FooterComponent {\n\n  endSession() {\n    if (typeof dtrum !== 'undefined') { dtrum.endSession(); }\n  }\n}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { EventsService } from '@services/events.service';\nimport { Observable } from 'rxjs';\nimport { LocationService } from '@services/location.service';\nimport { Location } from '@models/location';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AdobeService } from '@services/adobe.service';\nimport { BizEventService } from '@services/bizevent.service';\n\n@Component({\n  selector: 'app-hero',\n  templateUrl: './hero.component.html',\n  styleUrls: ['./hero.component.css']\n})\nexport class HeroComponent implements OnInit, OnDestroy {\n\n  constructor(\n    private locationService: LocationService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private adobeService: AdobeService,\n    private bizEventService: BizEventService,\n    private eventsService: EventsService\n  ) { }\n\n  public fromDate: 'string';\n  public toDate: 'string';\n  public numberOfPeople: 'string';\n  public selectedLocation: 'string';\n\n  public subParams: any;\n\n  datePickerConfig = {\n    format: 'YYYY-MM-DD'\n  };\n\n  ngOnInit() {\n    this.subParams = this.route.queryParams.subscribe(params => {\n      this.fromDate = params.fromDate || '';\n      this.toDate = params.toDate || '';\n      this.numberOfPeople = params.numberOfPeople || '';\n      this.selectedLocation = params.selectedLocation || '';\n    });\n  }\n\n  ngOnDestroy() {\n    this.subParams.unsubscribe();\n  }\n\n  locations = (keyword: string): Observable<Location[]> => {\n    return this.locationService.searchLocations(keyword);\n  }\n\n  searchResults() {\n    const queryParams = {};\n    let location = '';\n\n    if (this.fromDate) { Object.assign(queryParams, { fromDate: this.fromDate }); }\n    if (this.toDate) { Object.assign(queryParams, { toDate: this.toDate }); }\n    if (this.numberOfPeople) { Object.assign(queryParams, { numberOfPeople: this.numberOfPeople }); }\n    if (this.selectedLocation) {\n      Object.assign(queryParams, { selectedLocation: this.selectedLocation });\n      location = this.selectedLocation.toString();\n    }\n\n    this.adobeService.setSearchParams(location, this.fromDate, this.toDate, this.numberOfPeople);\n\n    let bizEvent = this.bizEventService.createS02(this.selectedLocation, this.fromDate, this.toDate, this.numberOfPeople);\n    this.bizEventService.sendBizEvent(bizEvent);\n\n    const event = this.eventsService.createS01(this.selectedLocation);\n    this.eventsService.sendEvent(event);\n\n    this.router.navigate(['/search'], { queryParams });\n  }\n\n}\n","import { Injectable } from '@angular/core';\r\n\r\nexport type WindowWithExtras = Window & {\r\n  s: {[key: string]: string};\r\n};\r\n\r\n@Injectable()\r\nexport class AdobeService {\r\n  constructor() {\r\n    (window as unknown as WindowWithExtras).s = {\r\n      pageName: '',\r\n      pageURL: '',\r\n      pageType: '',\r\n      eVar1: '',\r\n      eVar2: '',\r\n      eVar3: '',\r\n      eVar4: '',\r\n      prop1: '',\r\n      prop2: ''\r\n    };\r\n  }\r\n\r\n  public setSelectedJourney(value: string) {\r\n    (window as unknown as WindowWithExtras).s.prop1 = value;\r\n  }\r\n\r\n  public setJourneyPrice(value: string) {\r\n    (window as unknown as WindowWithExtras).s.prop2 = value;\r\n  }\r\n\r\n  public setJourneyPassengers(numberOfPassengers: string) {\r\n    (window as unknown as WindowWithExtras).s.eVar4 = numberOfPassengers;\r\n  }\r\n\r\n  public setPageParams(pageName: string, pageURL: string, pageType: string) {\r\n    (window as unknown as WindowWithExtras).s.pageName = pageName;\r\n    (window as unknown as WindowWithExtras).s.pageURL = pageURL;\r\n    (window as unknown as WindowWithExtras).s.pageType = pageType;\r\n  }\r\n\r\n  public setSearchParams(keyword: string, dateFrom: string, dateTo: string, numberOfPassengers: string) {\r\n    (window as unknown as WindowWithExtras).s.eVar1 = keyword;\r\n    (window as unknown as WindowWithExtras).s.eVar2 = dateFrom;\r\n    (window as unknown as WindowWithExtras).s.eVar3 = dateTo;\r\n    (window as unknown as WindowWithExtras).s.eVar4 = numberOfPassengers;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Location } from '@models/location';\nimport { environment } from '../../environments/environment';\n\n@Injectable()\nexport class LocationService {\n\n  private BASE_URL = environment.serverUrl + 'locations';\n\n  constructor(private http: HttpClient) { }\n\n  searchLocations(name: string): Observable<Location[]> {\n    return this.http.get(this.BASE_URL + '?match=' + encodeURIComponent(name))\n      .pipe(map((response) => response as Location[]));\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-main-layout',\n  templateUrl: './main-layout.component.html',\n  styleUrls: ['./main-layout.component.css']\n})\nexport class MainLayoutComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-offer-stat',\n  templateUrl: './offer-stat.component.html',\n  styleUrls: ['./offer-stat.component.css']\n})\nexport class OfferStatComponent implements OnInit {\n\n  @Input() stat: string;\n  @Input() value: string|number;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  getIconClass(): string {\n    switch (this.stat) {\n      case 'days':\n        return 'icon-calendar';\n      case 'price':\n        return 'icon-price';\n      case 'rating':\n        return 'icon-rating';\n      default:\n        return '';\n    }\n  }\n\n  getValue(): string {\n    switch (this.stat) {\n      case 'days':\n        return this.value + ' ' + (this.value > 1 ? 'Days' : 'Day');\n      case 'price':\n        return 'From $ ' + this.formatPrice(+this.value);\n      case 'rating':\n        return this.value as string;\n      default:\n        return '';\n    }\n  }\n\n  formatPrice(price: number): string|number {\n    if (price < 1000) {\n      return price;\n    }\n\n    const strPrice = price.toString();\n    return strPrice.slice(0, -3) + '.' + strPrice.slice(-3);\n  }\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n// Dyntrace error reporter\ndeclare var dtrum: any;\n\n@Component({\n  selector: 'app-gallery',\n  templateUrl: './gallery.component.html',\n  styleUrls: ['./gallery.component.css']\n})\nexport class GalleryComponent implements OnInit {\n\n  @Input() images: string[];\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  onSlide(event) {\n    // custom error without user action\n    if  (typeof dtrum !== 'undefined') {\n      dtrum.reportCustomError('TypeError', 'Cannot read property \\'loaded\\' of undefined', 'Missing or wrong image');\n    }\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { BehaviorSubject, Observable, of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\nimport { Journey } from '@models/journey';\nimport { environment } from '../../environments/environment';\nimport { DataService } from '@services/data.service';\n\n@Injectable()\nexport class JourneyService {\n\n  private BASE_URL = environment.serverUrl + 'journeys/';\n  private searchResults = new BehaviorSubject<Journey[]>([]);\n  public currentSearchResults = this.searchResults.asObservable();\n\n  constructor(private http: HttpClient, private dataService: DataService) { }\n\n  public getJourneyById (id: number): Observable<Journey> {\n    return this.http.get(this.BASE_URL + id)\n      .pipe\n      (\n        catchError(this.handleError('getJourneyById', null)),\n        map((response) => response as Journey)\n      );\n  }\n\n  public getRecommendation(): Observable<Journey[]> {\n    return this.http.get(this.BASE_URL + 'recommendation')\n      .pipe\n      (\n        catchError(this.handleError('getRandomJourneys', [])),\n        map((response) => response as Journey[])\n      );\n  }\n\n  public getSpecialOffers(): Observable<Journey[]> {\n    return this.http.get(this.BASE_URL + 'special-offers')\n      .pipe\n      (\n        catchError(this.handleError('special-offers', [])),\n        map((response) => response as Journey[])\n      );\n  }\n\n  searchJourneysByText(text: string, from: string, to: string): Observable<Journey[]> {\n    // if all parameters are empty return empty array\n    if (text.length === 0 && from === null && to === null) {\n      return new Observable<Journey[]>();\n    }\n    const url = this.getSearchJourneyUrl(text, from, to);\n    return this.http.get(url)\n      .pipe(\n        catchError(this.handleError('searchJourneysByText', [])),\n        map( (response) => {\n          this.searchResults.next(response as Journey[]);\n          return response as Journey[];\n        })\n      );\n  }\n\n  private getSearchJourneyUrl(text: string, from: string, to: string): string {\n\n    let url = this.BASE_URL + '?match=' + text;\n\n    if (from !== null && to === null) {\n      url += '&from=' + from;\n    } else if (from === null && to !== null) {\n      url += '&to=' + to;\n    } else {\n      url += '&from=' + from + '&to=' + to;\n    }\n    return url;\n  }\n\n  public getJourneyPostCount(id: number): Observable<number> {\n    return this.http.get(this.BASE_URL + id + '/post-count').pipe(\n        catchError(this.handleError('areJourneyPostPresent', {})),\n        map(postsPresent => postsPresent as number)\n    );\n  }\n\n  private handleError<T> (operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n\n      // TODO: send the error to remote logging infrastructure\n      console.log(error); // log to console instead\n      this.dataService.errorMessage = error.error;\n\n      // Let the app keep running by returning an empty result.\n      return of(result as T);\n    };\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\nconst MS_IN_DAY = 864e5;\n\n@Component({\n  selector: 'app-offer',\n  templateUrl: './offer.component.html',\n  styleUrls: ['./offer.component.css']\n})\nexport class OfferComponent implements OnInit {\n\n  @Input() type: string;\n\n  @Input() offer: any;\n  public fOffer: any;\n\n  constructor() { }\n\n  ngOnInit() {\n    const offer = this.offer;\n\n    this.fOffer = {\n      id: offer.id,\n      title: offer.name,\n      rating: offer.averageTotal,\n      price: Math.floor(offer.amount),\n      days: Math.round((offer.toDate - offer.fromDate) / MS_IN_DAY),\n      images: [\n        offer.images.currentPath,\n        offer.images.previousPath,\n        offer.images.nextPath\n      ]\n    };\n  }\n\n}\n","<footer class=\"page-section footer-section\">\n  <div>\n      <img class=\"footer-logo\" src=\"/assets/imgs/easytravel-logo.svg\">\n  </div>\n  <div class=\"footer-info\">\n    <nav class=\"footer-links\">\n      <a id=\"footer:contact\" routerLink=\"/contact\">Contact us</a>\n      <a id=\"footer:terms\" (click)=\"endSession()\">Terms &amp; conditions</a>\n      <a id=\"footer:policy\" routerLink=\"/home\">Privacy policy</a>\n    </nav>\n    <p class=\"footer-copyright\">&copy; 2018 Dynatrace. All rights reserved.</p>\n  </div>\n  <address class=\"social-links\">\n    <a id=\"fotter:facebook\" href=\"https://www.facebook.com/Dynatrace/\" class=\"icon-facebook\" target=\"_blank\">facebook</a>\n    <a id=\"footer:twitter\" href=\"https://twitter.com/Dynatrace\" class=\"icon-twitter\" target=\"_blank\">twitter</a>\n    <a id=\"footer:instagram\" href=\"https://www.instagram.com/dynatrace/\" class=\"icon-instagram\" target=\"_blank\">instagram</a>\n  </address>\n</footer>\n","<div class=\"page\">\n  <app-header></app-header>\n  <div class=\"page-content\">\n    <ng-content></ng-content>\n  </div>\n  <app-footer></app-footer>\n</div>\n","<div class=\"hero-wrapper\">\n  <section class=\"page-section hero-section\">\n    <h1 class=\"hero-title\">easyTravel</h1>\n    <span class=\"hero-slogan-begin\">Collect moments</span>\n    <span class=\"hero-slogan-end\">not things.</span>\n    <form class=\"hero-form\" (ngSubmit)=\"searchResults()\">\n      <div class=\"hero-form-field hero-form-search\">\n        <input id=\"search:destination\" placeholder=\"Asia\" class=\"hero-form-input icon-search\" name=\"location\"\n               auto-complete autocomplete=\"off\" [(ngModel)]=\"selectedLocation\"\n               [source]=\"locations.bind(this)\"\n               value-formatter=\"name\"\n               list-formatter=\"name\">\n      </div>\n      <div class=\"hero-form-field hero-form-arrive\">\n        <input id=\"search:fromdate\" placeholder=\"yyyy-mm-dd\" class=\"hero-form-input icon-calendar\" name=\"fromDate\"\n               [(ngModel)]=\"fromDate\" [dpDayPicker]=\"datePickerConfig\" theme=\"dp-material\"\n               autocomplete=\"off\">\n      </div>\n      <div class=\"hero-form-field hero-form-depart\">\n        <input id=\"search:todate\" placeholder=\"yyyy-mm-dd\" class=\"hero-form-input icon-calendar\" name=\"toDate\"\n               [(ngModel)]=\"toDate\" [dpDayPicker]=\"datePickerConfig\" theme=\"dp-material\"\n               autocomplete=\"off\">\n      </div>\n      <div class=\"hero-form-field hero-form-guests\">\n        <input id=\"search:travellers\" placeholder=\"2 travellers\" class=\"hero-form-input icon-community\" name=\"numberOfPeople\"\n               type=\"number\" [(ngModel)]=\"numberOfPeople\" min=\"1\"\n               autocomplete=\"off\">\n      </div>\n      <div class=\"hero-form-field hero-form-submit\">\n        <button name=\"search:submit\" type=\"submit\" class=\"hero-form-input\">Search</button>\n      </div>\n      <div class=\"hero-form-field hero-form-submit\">\n        <button name=\"search:clear\" type=\"reset\" class=\"hero-form-input\">Clear</button>\n      </div>\n    </form>\n  </section>\n</div>\n","<figure class=\"gallery\">\n  <slideshow [imageUrls]=\"images\" (onSlideLeft)=\"onSlide($event)\" (onSlideRight)=\"onSlide($event)\"></slideshow>\n</figure>\n","<span [class]=\"'stat-item ' + getIconClass()\">{{ getValue() }}</span>\n","<app-gallery [id]=\"fOffer.id\" [images]=\"fOffer.images\"></app-gallery>\n<h3><a [id]=\"type+':result'\" [routerLink]=\"['/journeys', fOffer.id]\">{{ fOffer.title }}</a></h3>\n<app-offer-stat stat=\"days\" [value]=\"fOffer.days\"></app-offer-stat>\n<app-offer-stat stat=\"price\" [value]=\"fOffer.price\"></app-offer-stat>\n<app-offer-stat stat=\"rating\" [value]=\"fOffer.rating\"></app-offer-stat>\n","<div [class]=\"'offers-widget' + (inline ? ' inline' : '')\">\n  <h2>{{ title }}</h2>\n  <app-offer class=\"offer-widget\" [type]=\"type\" [offer]=\"offer\" *ngFor=\"let offer of offers\"></app-offer>\n  <div *ngIf=\"offers?.length === 0\">\n    <span>No packages found</span>\n  </div>\n</div>\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-offers-list',\n  templateUrl: './offers-list.component.html',\n  styleUrls: ['./offers-list.component.css']\n})\nexport class OffersListComponent implements OnInit {\n\n  @Input() type: string;\n  @Input() title: string;\n\n  private _offers: any[];\n  @Input()\n  set offers(offers: any[]) {\n    this._offers = offers;\n  }\n  get offers(): any[] {\n    return this._inline ? this._offers.slice(0, 3) : this._offers;\n  }\n\n  private _inline: boolean;\n  @Input()\n  set inline(inline: boolean) {\n    this._inline = inline;\n  }\n  get inline(): boolean {\n    return this._inline;\n  }\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\nimport { Booking } from '@models/booking';\nimport { BookingRequest } from '@models/bookingRequest';\nimport { BookingResponse } from '@models/bookingResponse';\nimport { environment } from '../../environments/environment';\nimport { DataService } from '@services/data.service';\n\n@Injectable()\nexport class BookingService {\n\n  private BASE_URL = environment.serverUrl + 'bookings/';\n\n  constructor(private http: HttpClient, private dataService: DataService) { }\n\n  public doBooking(bookingRequest: BookingRequest): Observable<BookingResponse> {\n    return this.http.post(this.BASE_URL, bookingRequest)\n      .pipe\n      (\n        catchError(this.handleError('doBooking', new BookingResponse()))\n      )\n      .pipe(map((response) => response as BookingResponse));\n  }\n\n  public getBookingById (id: number): Observable<Booking> {\n    return this.http.get(this.BASE_URL + id)\n      .pipe\n      (\n        catchError(this.handleError('getBookingById', {}))\n      )\n      .pipe(map((response) => response as Booking));\n  }\n\n  public getRecentBookings(limit: number): Observable<Booking[]> {\n    return this.http.get(this.BASE_URL + 'recent/' + limit)\n      .pipe\n      (\n        catchError(this.handleError('getRecentBookings', []))\n      )\n      .pipe(map((response) => response as Booking[]));\n  }\n\n  private handleError<T> (operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n\n      this.dataService.errorMessage = error.error;\n\n      // Let the app keep running by returning an empty result.\n      return of(result as T);\n    };\n  }\n\n}\n","export class BookingResponse {\n    bookingId: string;\n    journeyId: number;\n    from: number;\n    to: number;\n}\n","<div class=\"main-widget recently-booked-widget\">\n  <h2>Recently booked</h2>\n\n  <div class=\"book-widget\" *ngFor=\"let booking of recentBookings\">\n    <img [src]=\"booking.journey.images.currentPath\" class=\"book-thumbnail\">\n    <h3 class=\"book-title\">{{ booking.journey.destination }}</h3>\n    <div class=\"book-stats\">\n        <app-offer-stat stat=\"days\" [value]=\"getBookingDurationInDays(booking)\"></app-offer-stat>\n        <app-offer-stat stat=\"price\" [value]=\"getFormattedPrice(booking)\"></app-offer-stat>\n      <app-offer-stat stat=\"rating\" [value]=\"booking.journey.averageTotal\"></app-offer-stat>\n    </div>\n  </div>\n</div>\n","import { Component, Input, OnInit, OnDestroy } from '@angular/core';\nimport { BookingService } from '@services/booking.service';\nimport { Booking } from '@models/booking';\n\nconst MS_IN_DAY = 864e5;\n\n@Component({\n  selector: 'app-recently-booked',\n  templateUrl: './recently-booked.component.html',\n  styleUrls: ['./recently-booked.component.css']\n})\nexport class RecentlyBookedComponent implements OnInit, OnDestroy {\n\n  constructor(private bookingService: BookingService) { }\n\n  private recentBookingFetchLimit = 3;\n  private timerId: NodeJS.Timer;\n\n  public recentBookings: Booking[];\n  public fOffer: any;\n\n  @Input('realTimeUpdate')\n  set realTimeUpdate(value: boolean) {\n    this.triggerUpdateMode(value);\n  }\n\n  ngOnInit () {\n    this.updateRecentBooking(this);\n  }\n\n  triggerUpdateMode(realTimeUpdate: boolean): void {\n    if (realTimeUpdate) {\n      const udpateInterval = 100;\n      this.timerId = setInterval(this.updateRecentBooking, udpateInterval, this);\n    }\n  }\n\n  ngOnDestroy () {\n    clearInterval(this.timerId);\n  }\n\n  updateRecentBooking(self) {\n    self.bookingService.getRecentBookings(self.recentBookingFetchLimit).subscribe(\n      res => {\n        if (self.recentBookings !== res) {\n          self.recentBookings = res;\n        }\n      }\n    );\n  }\n\n  getFormattedPrice(booking: Booking) {\n    return Math.floor(booking.journey.amount);\n  }\n\n  getBookingDurationInDays(booking: Booking) {\n    return Math.round((booking.journey.toDate - booking.journey.fromDate) / MS_IN_DAY);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../environments/environment';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class ConfigService {\n  private BASE_URL = environment.serverUrl + 'config';\n\n  constructor(private http: HttpClient) { }\n\n  public getNodejsUrl(): Observable<string> {\n    return this.http.get(this.BASE_URL + '/nodejsurl')\n      .pipe(\n        map(r => r as string)\n      );\n  }\n\n  public getBlogUrl(): Observable<string> {\n    return this.http.get(this.BASE_URL + '/blogurl')\n      .pipe(\n        map(r => r as string)\n      );\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Journey } from '@models/journey';\nimport { JourneyService } from '@services/journey.service';\n\n@Component({\n  selector: 'app-home-main',\n  templateUrl: './home-main.component.html',\n  styleUrls: ['./home-main.component.css']\n})\nexport class HomeMainComponent implements OnInit {\n\n  public specialOffers: Journey[] = [];\n  public activityOffers: Journey[] = [];\n\n  constructor(private journeyService: JourneyService) { }\n\n  ngOnInit() {\n\n    this.journeyService.getSpecialOffers()\n      .subscribe(journeys => {\n        this.specialOffers = journeys;\n      });\n\n    this.journeyService.getRecommendation()\n      .subscribe(journeys => {\n        this.activityOffers = journeys.slice(0, 3);\n      });\n  }\n}\n","<main class=\"page-section main-section\">\n  <div class=\"main-widget\">\n    <app-offers-list title=\"Special offers\" [offers]=\"specialOffers\" inline=\"true\" type=\"specialOffers\"></app-offers-list>\n  </div>\n\n  <app-recently-booked class=\"main-widget\"></app-recently-booked>\n\n  <div class=\"main-widget\">\n    <app-offers-list title=\"Activities and Experiences\" [offers]=\"activityOffers\" inline=\"true\" type=\"activityOffers\"></app-offers-list>\n  </div>\n</main>\n","<div class=\"footnote-wrapper\">\n  <aside class=\"page-section footnote-section\">\n    <div class=\"footnote-widget recent-post-section\">\n      <h2>Latest blog entry</h2>\n\n      <h3>A Uniquely Kiwi Adventure</h3>\n      <p class=\"recent-post-meta\">Apr 5, 2017, by Kathleen Peterson</p>\n\n      <p>Today's post is brought to you by easyTravel Student Ambassador, Kathleen Peterson. Kathleen is a student at Michigan State...\n        <a *ngIf=\"phpEnabled\" [href]=\"blogUrl\" name=\"blogLink\">more</a>\n      </p>\n    </div>\n    <div class=\"footnote-widget subscribe-section\">\n      <h2>Never miss a story</h2>\n\n      <p>Sign up for our Newsletter and stay up to date!</p>\n\n      <form class=\"subscribe-form\">\n        <input placeholder=\"your@email.com\">\n        <button type=\"submit\">Sign up</button>\n      </form>\n    </div>\n    <div class=\"footnote-widget contacts-section\">\n      <h2>Where to find us</h2>\n\n      <p>Freistaedter Strasse 313, 4040 Linz, Austria</p>\n      <address><a href=\"#\">emeainfo@dynatrace.com</a></address>\n\n      <p>Omnilogy Sp. z.o.o. Al. Grunwaldzka 411 80-309 Gdansk, Poland</p>\n      <address><a href=\"#\">dynatrace@omnilogy.com</a></address>\n    </div>\n  </aside>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {PluginService} from '@services/plugins.service';\nimport {ConfigService} from '@services/config.service';\n\n@Component({\n  selector: 'app-footnote',\n  templateUrl: './footnote.component.html',\n  styleUrls: ['./footnote.component.css']\n})\nexport class FootnoteComponent implements OnInit {\n  public phpEnabled = false;\n  public blogUrl: string;\n\n  constructor(private pluginService: PluginService, private configService: ConfigService) { }\n\n  ngOnInit() {\n    this.pluginService.pluginScenarios.subscribe(scenarios => {\n      this.phpEnabled = scenarios.phpEnabled;\n    });\n    this.configService.getBlogUrl().subscribe((result: string) => {\n      this.blogUrl = result;\n    });\n  }\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'weather',\n  templateUrl: './weather.component.html',\n  styleUrls: ['./weather.component.css']\n})\nexport class WeatherComponent implements OnInit {\n  public isForecast = false;\n  private _link = '';\n\n  @Input()\n  set link(link: string) {\n    this._link = link;\n    this.isForecast = this._link.indexOf('tpl=medium') >= 0;\n  }\n\n  get link(): string {\n    return this._link;\n  }\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Pipe({ name: 'safe' })\nexport class SafePipe implements PipeTransform {\n  constructor(private sanitizer: DomSanitizer) { }\n\n  transform(url) {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './home.component.html',\n  styleUrls: [ './home.component.css' ]\n})\nexport class HomeComponent implements OnInit {\n  constructor() { }\n\n  ngOnInit(): void { }\n}\n","<app-main-layout class=\"landing-page\">\n  <app-hero></app-hero>\n  <app-home-main></app-home-main>\n  <app-footnote></app-footnote>\n</app-main-layout>\n","<iframe \n\t[src]=\"link | safe\" \n\tscrolling=\"no\" frameborder=\"0\" allowtransparency=\"true\"\n\t[ngClass]=\"isForecast ? 'weather-big' : 'weather-small'\">\n</iframe>","<app-main-layout class=\"search-page\">\n  <app-hero></app-hero>\n  <main class=\"page-section main-section\">\n    <app-offers-list\n      class=\"search-widget\"\n      inline=\"true\"\n      [title]=\"searchTitle\"\n      [offers]=\"searchResults\"\n\t  type=\"search\"></app-offers-list>\n\t  \n\t<div *ngIf=\"searchResults?.length > 0 && weatherApp\" class=\"search-widget\">\n      <h2>Weather forecast for {{selectedLocation}}:</h2>\n      <weather [link]=\"weatherLink\"></weather>\n  \t</div>\n\n    <app-offers-list\n      class=\"search-widget\"\n      inline=\"true\"\n      title=\"Recommendations\"\n      [offers]=\"recommendedOffers\"\n\t  type=\"recommendation\"></app-offers-list>\n  </main>\n</app-main-layout>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { JourneyService } from '@services/journey.service';\nimport { ConfigService } from '@services/config.service';\nimport { PluginService } from '@services/plugins.service';\nimport { BizEventService } from '@services/bizevent.service';\n\n// Dyntrace error reporter\ndeclare var dtrum: any;\n\n@Component({\n  selector: 'app-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.css']\n})\nexport class SearchComponent implements OnInit, OnDestroy {\n\n  constructor(\n    private journeyService: JourneyService,\n    private route: ActivatedRoute,\n    private pluginService: PluginService,\n    private configService: ConfigService,\n    private router: Router,\n    private bizEventService: BizEventService\n  ) { }\n\n  public fromDate: string;\n  public toDate: string;\n  public numberOfPeople: string;\n  public selectedLocation: string;\n  public weatherApp = false;\n  public nodejsurl: string;\n\n  public subParams: any;\n\n  public searchResults: any[] = [];\n  public recommendedOffers: any[] = [];\n\n  ngOnInit() {\n    this.subParams = this.route.queryParams.subscribe(params => {\n      this.fromDate = params.fromDate || '';\n      this.toDate = params.toDate || '';\n      this.numberOfPeople = params.numberOfPeople || '';\n      this.selectedLocation = params.selectedLocation || '';\n\n      this.updateJournerys();\n    });\n\n    this.journeyService.getRecommendation()\n      .subscribe(journeys => {\n        this.recommendedOffers = journeys.slice(0, 3);\n      });\n\n    this.pluginService.pluginScenarios.subscribe(scenarios => {\n      this.weatherApp = scenarios.weatherApp;\n    });\n\n    this.configService.getNodejsUrl().subscribe((result: string) => {\n      this.nodejsurl = result;\n    });\n  }\n\n  ngOnDestroy() {\n    this.subParams.unsubscribe();\n  }\n\n  updateJournerys = () => {\n    this.journeyService\n      .searchJourneysByText((this.selectedLocation || ''), this.fromDate, this.toDate)\n      .subscribe(offers => {\n        this.searchResults = offers.slice(0, 3);\n        if (this.searchResults == null || this.searchResults.length === 0) {\n          // custom error with user action\n          if  (typeof dtrum !== 'undefined') {\n            const a = dtrum.enterAction('Search action', 'Search');\n            dtrum.reportCustomError(\n              'Error',\n              'No results found for query',\n              `Happened when searching for journeys with parameters keyword:${this.selectedLocation} from:${this.fromDate} to:${this.toDate}`, a);\n            dtrum.leaveAction(a);\n          }\n        }\n\n        let length = (this.searchResults == null || this.searchResults.length === 0) ? 0 : this.searchResults.length;\n        let bizEvent = this.bizEventService.createS03(this.selectedLocation, this.fromDate, this.toDate, this.numberOfPeople, length);\n        this.bizEventService.sendBizEvent(bizEvent);\n      });\n  }\n\n  get searchTitle(): string {\n    let title = 'Search results for: ';\n    if (this.selectedLocation) { title += this.selectedLocation; }\n    if (this.fromDate) { title += ' from ' + this.fromDate; }\n    if (this.toDate) { title += ' till ' + this.toDate; }\n    if (this.numberOfPeople) {\n      title += ' (' + this.numberOfPeople + (+this.numberOfPeople === 1 ? ' person' : ' persons') + ')';\n    }\n    return title;\n  }\n\n  get weatherLink(): string {\n    return this.nodejsurl + 'current?loc=' + this.selectedLocation + '&days=3&tpl=small';\n  }\n}\n","<div id=\"summary\" class=\"journey-stats\">\n  <h2>{{ journey.name }}</h2>\n\n  <div>\n    <h3>Journey</h3>\n    <p>{{ journey.start }}  {{ journey.destination }}</p>\n  </div>\n\n  <div>\n    <h3>Period</h3>\n    <p>{{ journey.fromDate | date }}  {{ journey.toDate | date }}</p>\n  </div>\n\n  <div>\n    <h3>Organized by</h3>\n    <p>{{ journey.tenant }}</p>\n  </div>\n\n  <div>\n    <h3>Amount</h3>\n    <p>{{ journey.amount }}</p>\n  </div>\n\n  <div *ngFor=\"let entry of additionalEntries\">\n    <h3>{{entry.name}}</h3>\n    <p>{{ entry.value.trim() ? entry.value : '-' }}</p>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {Journey} from '@models/journey';\n\n@Component({\n  selector: 'app-journey-summary',\n  templateUrl: './journey-summary.component.html',\n  styleUrls: ['./journey-summary.component.css']\n})\nexport class JourneySummaryComponent implements OnInit {\n  @Input()\n  public journey: Journey;\n  @Input()\n  public additionalEntries?: {name: string, value: string}[] = [];\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<app-main-layout class=\"search-page\" *ngIf=\"journey\">\n  <div class=\"thumbnail\" [style.background-image]=\"'url('+journey.images.currentPath+')'\"></div>\n  <main class=\"page-section\">\n    <div class=\"widget journey-stats\">\n      <app-journey-summary [journey]=\"journey\"></app-journey-summary>\n\n      <div *ngIf=\"phpEnabled\">\n        <h3>Rating</h3>\n        <p>{{ journey.averageTotal }}</p>\n      </div>\n\n      <div *ngIf=\"journeyPostCount > 0\">\n        <h3>Blog</h3>\n        <a [href]=\"blogUrl + '?tag=' + journey.id\">Posts: {{journeyPostCount}}</a>\n      </div>\n\n      <div class=\"journey-actions\">\n        <span>Travelers:</span>\n        <form [formGroup]=\"bookNowForm\">\n          <select formControlName=\"travelers\">\n            <option value=\"1\">1 adult</option>\n            <option value=\"2\">1 adult+1 kid</option>\n            <option value=\"3\">1 adult+2 kids</option>\n            <option value=\"4\">2 adults</option>\n            <option value=\"5\">2 adults+1 kid</option>\n            <option value=\"6\">2 adults+2 kids</option>\n          </select>\n\n          <button name=\"book:booknow\" [disabled]=\"disableBookNow\" (click)=\"bookJourney()\">Book Now</button>\n        </form>\n      </div>\n    </div>\n\n    <div *ngIf=\"weatherApp\" class=\"widget\">\n      <h2>Weather forecast for Trip:</h2>\n      <weather [link]=\"weatherLink\"></weather>\n  \t</div>\n\n    <app-recently-booked class=\"widget\" [realTimeUpdate]=\"realTimeUpdateRecentBookings\"></app-recently-booked>\n  </main>\n</app-main-layout>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FormControl, FormGroup, FormBuilder } from '@angular/forms';\nimport { JourneyService } from '@services/journey.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { PluginService } from '@services/plugins.service';\nimport { Subscription } from 'rxjs/Subscription';\nimport { DataService } from '@services/data.service';\nimport { DatePipe } from '@angular/common';\nimport { ConfigService } from '@services/config.service';\nimport { AdobeService } from '@services/adobe.service';\nimport { BizEventService } from '@services/bizevent.service';\n\n@Component({\n  selector: 'app-journey',\n  templateUrl: './journey.component.html',\n  styleUrls: ['./journey.component.css']\n})\nexport class JourneyComponent implements OnInit, OnDestroy {\n\n  public bookNowForm: FormGroup;\n  public journey: any;\n  public journeyPostCount: number;\n  public realTimeUpdateRecentBookings = false;\n  public max3Travelers = false;\n  public disableBookNow: boolean;\n  public weatherApp = false;\n  public nodejsurl: string;\n  private paramsSub: Subscription;\n  private formChangesSubscription: Subscription;\n\n  public blogUrl: string;\n  public phpEnabled = false;\n\n  constructor(\n    private journeyService: JourneyService,\n    private pluginService: PluginService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private fb: FormBuilder,\n    private dataService: DataService,\n    private configService: ConfigService,\n    private datePipe: DatePipe,\n    private adobeService: AdobeService,\n    private bizEventService: BizEventService\n  ) { }\n\n  ngOnInit() {\n    this.bookNowForm = this.fb.group({\n      travelers: new FormControl('1'),\n    });\n\n    this.dataService.travellers = '1';\n\n    this.paramsSub = this.route.params.subscribe(params => {\n      this.adobeService.setSelectedJourney(params.id);\n\n      this.journeyService.getJourneyById(params.id)\n        .subscribe(journey => {\n          if (!journey) {\n            this.router.navigate(['/error-page']);\n            return;\n          }\n          if (journey.error) {\n            this.router.navigate(['/search']);\n          } else {\n            this.journey = journey;\n            this.journeyService.getJourneyPostCount(journey.id).subscribe(postsPresent => {\n              this.journeyPostCount = postsPresent;\n            });\n\n            let bizEvent = this.bizEventService.createS04(\n              this.journey.name, this.bizEventService.countJourneyDayCount(this.journey.fromDate, this.journey.toDate),\n              this.journey.amount, this.journey.averageTotal, 1);\n            this.bizEventService.sendBizEvent(bizEvent);\n          }\n        });\n    });\n\n    this.pluginService.pluginScenarios.subscribe(scenarios => {\n      this.realTimeUpdateRecentBookings = scenarios.realTimeUpdateRecentBooking;\n      this.max3Travelers = scenarios.max3Travelers;\n      this.weatherApp = scenarios.weatherApp;\n    });\n\n    this.formChangesSubscription = this.bookNowForm.valueChanges.subscribe(selections => {\n      this.dataService.travellers = selections.travelers;\n\n      this.adobeService.setJourneyPassengers(selections.travelers);\n\n      if (this.max3Travelers && selections.travelers === '6') {\n        throw new Error('TypeError: invalid arguments');\n      }\n    });\n\n    this.configService.getNodejsUrl().subscribe((result: string) => {\n      this.nodejsurl = result;\n    });\n    this.configService.getBlogUrl().subscribe((result: string) => {\n      this.blogUrl = result;\n    });\n    this.pluginService.pluginScenarios.subscribe(scenarios => {\n      this.phpEnabled = scenarios.phpEnabled;\n    });\n  }\n\n  ngOnDestroy() {\n    this.paramsSub.unsubscribe();\n    this.formChangesSubscription.unsubscribe();\n  }\n\n  bookJourney() {\n    this.dataService.determineTravellers();\n    let bizEvent = this.bizEventService.createS05(window.location.href, this.journey.name, this.journey.tenant,\n      this.journey.amount, this.journey.averageTotal, (new Date(this.journey.fromDate)).toJSON().slice(0,10),\n      (new Date(this.journey.toDate)).toJSON().slice(0,10),\n      this.bizEventService.countJourneyDayCount(this.journey.fromDate, this.journey.toDate), this.dataService.adults,\n      this.dataService.children);\n    this.bizEventService.sendBizEvent(bizEvent);\n\n    this.router.navigate(['/journeys/' + this.journey.id + '/book']);\n  }\n\n  get weatherLink(): string {\n    const dateFrom = new Date(this.journey.fromDate);\n    const differenceDays = (this.journey.toDate - this.journey.fromDate) / 86400000;\n    // tslint:disable-next-line:max-line-length\n    return `${this.nodejsurl}forecast?loc=${this.journey.destination}&days=${differenceDays}&date=${this.datePipe.transform(dateFrom, 'yyyy-MM-dd')}&tpl=medium`;\n  }\n}\n","export class BookingRequest {\n    journeyId: string;\n    username: string;\n    creditcard: string;\n    amount: string;\n    travellers: string;\n\n    constructor (journeyId: string, username: string, creditcard: string, amount: string, travellers: string) {\n        this.journeyId = journeyId;\n        this.username = username;\n        this.creditcard = creditcard;\n        this.amount = amount;\n        this.travellers = travellers;\n    }\n}\n","<form class=\"login-form\" (submit)=\"login(username.value, password.value)\">\n  <input id=\"loginForm:username\" type=\"text\" name=\"email\" placeholder=\"email\" auto-complete  autocomplete=\"off\"\n    [(ngModel)]=\"selectedLogin\" [source]=\"autoFillLogins.bind(this)\"\n    value-formatter=\"name\" list-formatter=\"name\" (valueChanged)=\"autoLogin($event)\"\n    [no-match-found-text]=\"autoFill? 'No match found' : 'Unlock autofill for suggestions'\"\n    autocomplete=\"off\" #username>\n\n  <input id=\"loginForm:password\" type=\"password\" name=\"password\" placeholder=\"password\" #password>\n\n  <fa-icon *ngIf=\"autoFill; else unlockAutofill\" class=\"lockIcon\" icon=\"unlock\" (click)=\"toggleAutofill()\"></fa-icon>\n  <ng-template #unlockAutofill>\n    <fa-icon class=\"lockIcon\" icon=\"lock\" (click)=\"toggleAutofill()\"></fa-icon>\n  </ng-template>\n\n  <button id=\"loginForm:submit\" type=\"submit\">Sign In</button>\n</form>\n","import { Component, OnInit, Output, EventEmitter, ViewChild, ElementRef } from '@angular/core';\nimport { UserService } from '@services/user.service';\nimport { Loginuser } from '@models/loginUser';\nimport { Observable } from 'rxjs';\nimport { BizEventService } from '@services/bizevent.service';\n\n@Component({\n  selector: 'app-login-form',\n  templateUrl: './login-form.component.html',\n  styleUrls: ['./login-form.component.css']\n})\nexport class LoginFormComponent implements OnInit {\n\n  @ViewChild('username', { static: true }) username: ElementRef;\n  @Output() authorized = new EventEmitter<any>();\n  public autoFill = false;\n  public selectedLogin: Loginuser;\n\n  constructor(\n    private userService: UserService,\n    private bizEventService: BizEventService\n  ) { }\n\n  ngOnInit() {\n  }\n\n  login(username: string, password: string): void {\n    let bizEvent = this.bizEventService.createS12(username);\n    this.bizEventService.sendBizEvent(bizEvent);\n\n    this.userService.authenticate({ username, password })\n      .subscribe(user => {\n        this.authorized.emit({ user });\n      });\n  }\n\n  autoLogin(login) {\n    if (this.autoFill) {\n      this.login(login.name, login.password);\n    }\n  }\n\n  toggleAutofill() {\n    this.autoFill = !this.autoFill;\n    this.username.nativeElement.focus();\n  }\n\n  autoFillLogins = (keyword: string): Observable<Loginuser[]> => {\n    if (this.autoFill) {\n      return this.userService.searchUsers(keyword);\n    } else {\n      return new Observable((observer) => {\n        observer.next(new Array<Loginuser>());\n        observer.complete();\n      });\n    }\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { CardValidationResponse } from '@models/cardValidationResponse';\nimport { environment } from '../../environments/environment';\n\n@Injectable()\nexport class CreditCardValidationService {\n\n  private BASE_URL = environment.serverUrl + 'validate-creditcard';\n\n  constructor(private http: HttpClient) { }\n\n  validateCreditCard(creditCardNumber: string): Observable<CardValidationResponse> {\n    return this.http.post(this.BASE_URL, { creditCardNumber })\n      .pipe(map((response) => response as CardValidationResponse));\n  }\n}\n","<div>\n  <div class=\"card-panel\">\n    <h2 class=\"card-title\">Payment Details\n      <div title=\"Auto fill credit card\">\n        <fa-icon *ngIf=\"autoFill; else unlockAutofill\" class=\"autofill-icon\" icon=\"unlock\" (click)=\"toggleAutofill()\"></fa-icon>\n        <ng-template #unlockAutofill>\n          <fa-icon class=\"autofill-icon\" icon=\"lock\" (click)=\"toggleAutofill()\"></fa-icon>\n        </ng-template>\n      </div>\n    </h2>\n\n    <label>CARD NUMBER</label>\n    <div [class]=\"['form-row', 'card-number', numberError ? 'error' : ''].join(' ')\">\n      <input id=\"creditCard:first4digits\" [(ngModel)]=\"number1\" class=\"num\" type=\"text\" size=\"4\" maxlength=\"4\" placeholder=\"0000\">\n      <input id=\"creditCard:second4digits\" [(ngModel)]=\"number2\" class=\"num\" type=\"text\" size=\"4\" maxlength=\"4\" placeholder=\"0000\">\n      <input id=\"creditCard:third4digits\"[(ngModel)]=\"number3\" class=\"num\" type=\"text\" size=\"4\" maxlength=\"4\" placeholder=\"0000\">\n      <input id=\"creditCard:fourth4digits\" [(ngModel)]=\"number4\" class=\"num\" type=\"text\" size=\"4\" maxlength=\"4\" placeholder=\"0000\">\n    </div>\n\n    <label>EXPIRATION DATE</label>\n    <div class=\"form-row exp\">\n      <select [(ngModel)]=\"month\">\n        <option value=\"1\">January</option>\n        <option value=\"2\">February</option>\n        <option value=\"3\">March</option>\n        <option value=\"4\">April</option>\n        <option value=\"5\">May</option>\n        <option value=\"6\">June</option>\n        <option value=\"7\">July</option>\n        <option value=\"8\">August</option>\n        <option value=\"9\">September</option>\n        <option value=\"10\">October</option>\n        <option value=\"11\">November</option>\n        <option value=\"12\">December</option>\n      </select>\n      <select [(ngModel)]=\"year\">\n        <option *ngFor=\"let y of years\" [value]=\"y\">{{y}}</option>\n      </select>\n      <input id=\"creditCard:cvc\" [(ngModel)]=\"cvc\" [class]=\"['cvc', cvcError ? 'error' : ''].join(' ')\" type=\"text\" class=\"num\" placeholder=\"CVC\" size=\"4\"\n        maxlength=\"4\">\n    </div>\n\n    <div class=\"form-row\">\n      <button name=\"creditCard:submit\" type=\"button\" (click)=\"book()\" class=\"place-order\">Book Journey for ${{price}}</button>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { CreditCardValidationService } from '@services/creditcard-validation.service';\nimport { DataService } from '@services/data.service';\nimport { BizEventService } from '@services/bizevent.service';\nimport { Journey } from '@models/journey';\nimport { UserService } from '@services/user.service';\n\n@Component({\n  selector: 'app-billing',\n  templateUrl: './billing.component.html',\n  styleUrls: ['./billing.component.css']\n})\nexport class BillingComponent implements OnInit {\n\n  @Input() price = 0;\n  @Output() finish = new EventEmitter<any>();\n\n  public autoFill = false;\n  public number1 = '';\n  public number2 = '';\n  public number3 = '';\n  public number4 = '';\n\n  public month: number;\n  public months: number[] = [];\n  public year: number;\n  public years: number[] = [];\n\n  public cvc = '';\n\n  public numberError = false;\n  public cvcError = false;\n\n  constructor(\n    public creditcardService: CreditCardValidationService,\n    private dataService: DataService,\n    private bizEventService: BizEventService,\n    private userService: UserService\n  ) { }\n\n  ngOnInit() {\n    this.initCreditCardMonthAndYear();\n  }\n\n  toggleAutofill () {\n    this.autoFill = !this.autoFill;\n    if (this.autoFill) {\n      this.autoFillCardDetails();\n    }\n  }\n\n  private initCreditCardMonthAndYear () {\n    const today = new Date();\n    this.months = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\n    this.month = (today.getMonth() + 1);\n\n    this.year = (new Date()).getFullYear();\n    for (let index = 0; index < 10; index++) {\n      this.years.push(this.year + index);\n    }\n  }\n\n  private autoFillCardDetails () {\n    this.number1 = this.generateRandomNumberString(4);\n    this.number2 = this.generateRandomNumberString(4);\n    this.number3 = this.generateRandomNumberString(4);\n    this.number4 = this.generateRandomNumberString(4);\n    this.cvc = this.generateRandomNumberString(3);\n    this.month = this.generateRandomMonth();\n    this.year = this.generateRandomExpiryYear();\n  }\n\n  private generateRandomNumberString (range: number) {\n    const a = Math.pow(10, range - 1);\n    const b = a * 9;\n    return Math.floor(a + Math.random() * b).toString();\n  }\n\n  private generateRandomMonth () {\n    return this.months[Math.floor(Math.random() * this.months.length)];\n  }\n\n  private generateRandomExpiryYear () {\n    return this.years[Math.floor(Math.random() * this.years.length)];\n  }\n\n  private validateCardSyntax() {\n    const numberPartRegexp = /^\\d{4}$/;\n    let valid = true;\n\n    this.numberError = false;\n    this.cvcError = false;\n\n    var errorMessage: string[];\n    errorMessage = [];\n\n    if (\n      !this.number1.match(numberPartRegexp) ||\n      !this.number2.match(numberPartRegexp) ||\n      !this.number3.match(numberPartRegexp) ||\n      !this.number4.match(numberPartRegexp)\n    ) {\n      this.numberError = true;\n      valid = false;\n      errorMessage.push(\"CC number not provided\");\n    }\n\n    if (!this.cvc.match(/^\\d{3,4}$/)) {\n      this.cvcError = true;\n      valid = false;\n      errorMessage.push(\"CVC not provided\");\n    }\n\n    if (this.numberError || this.cvcError) {\n      let bizEvent = this.bizEventService.createS10(window.location.href, errorMessage ,\n        this.dataService.journey.name, this.dataService.journey.tenant, this.dataService.journey.amount,\n        this.dataService.journey.averageTotal, (new Date(this.dataService.journey.fromDate)).toJSON().slice(0,10),\n        (new Date(this.dataService.journey.toDate)).toJSON().slice(0,10),\n        this.bizEventService.countJourneyDayCount(this.dataService.journey.fromDate, this.dataService.journey.toDate),\n        this.dataService.adults, this.dataService.children, this.userService.session().user.loyaltyStatus);\n      this.bizEventService.sendBizEvent(bizEvent);\n    }\n\n    return valid;\n  }\n\n  book() {\n    let bizEvent = this.bizEventService.createS09(window.location.href, this.year + \"-\" + this.month ,\n      this.dataService.journey.name, this.dataService.journey.tenant, this.dataService.journey.amount,\n      this.dataService.journey.averageTotal, (new Date(this.dataService.journey.fromDate)).toJSON().slice(0,10),\n      (new Date(this.dataService.journey.toDate)).toJSON().slice(0,10),\n      this.bizEventService.countJourneyDayCount(this.dataService.journey.fromDate, this.dataService.journey.toDate),\n      this.dataService.adults, this.dataService.children, this.userService.session().user.loyaltyStatus);\n    this.bizEventService.sendBizEvent(bizEvent);\n\n    if (!this.validateCardSyntax()) {\n      return;\n    }\n\n    const creditcard = this.number1 + this.number2 + this.number3 + this.number4;\n    this.creditcardService.validateCreditCard(creditcard).subscribe(\n      res => {\n        if (res.valid) {\n          this.finish.emit({\n            creditcard,\n            month: this.month,\n            year: this.year,\n            cvc: this.cvc\n          });\n        } else {\n          this.numberError = false;\n        }\n      }\n    );\n  }\n\n}\n","<app-main-layout class=\"search-page\" *ngIf=\"journey\">\n  <div class=\"thumbnail\" [style.background-image]=\"'url('+journey.images.currentPath+')'\"></div>\n  <main class=\"page-section\">\n    <h2 class=\"widget\">{{ journey.destination }} is waiting for you</h2>\n\n    <div class=\"steps-labels\">\n      <div class=\"step1 step-label\" [ngClass]=\"step === 1 ? 'active' : ''\">Login</div>\n      <div class=\"step2 step-label\" [ngClass]=\"step === 2 ? 'active' : ''\">Review</div>\n      <div class=\"step3 step-label\" [ngClass]=\"step === 3 ? 'active' : ''\">Payment</div>\n      <div class=\"step4 step-label\" [ngClass]=\"step === 4 ? 'active' : ''\">Finish</div>\n      <div class=\"step5 step-label\" [ngClass]=\"step === 5 ? 'active' : ''\">Summary</div>\n    </div>\n\n    <div class=\"steps\">\n      <app-login-form class=\"step step1\" [ngClass]=\"step === 1 ? 'active' : ''\"\n        (authorized)=\"finishAuthorization($event)\"></app-login-form>\n      <div class=\"step step2\" [ngClass]=\"step === 2 ? 'active' : ''\" style=\"text-align: center;\">\n        <h2>{{ journey.name }}</h2>\n        <p>{{ journey.start }}  {{ journey.destination }}</p>\n        <p name=\"payment:date\">{{ journey.fromDate | date }}  {{ journey.toDate | date }}</p>\n        <p *ngIf=\"!ABtesting\"><button name=\"payment:pay\" (click)=\"finishReview()\">Pay ${{ journey.amount }}</button></p>\n      </div>\n      <app-billing\n        class=\"step step3\" [ngClass]=\"step === 3 ? 'active' : ''\"\n        (finish)=\"finishBooking($event)\"\n        [price]=\"journey.amount\"></app-billing>\n\n      <div class=\"step step4 success-payment-message\" [ngClass]=\"step === 4 ? 'active' : ''\">\n        <p>{{bookingConfirmed ? \"Your journey was booked successfully! Open the summary and print out the ticket's.\": bookingStatusError}}</p>\n        <button id=\"summaryButton\" (click)=\"onSummaryButtonClick()\">Open summary and tickets</button>\n      </div>\n      <div class=\"step step5 journey-stats\" [ngClass]=\"step === 5 ? 'active' : ''\">\n        <app-journey-summary [journey]=\"journey\" [additionalEntries]=\"getSummaryAdditionalFields()\"></app-journey-summary>\n        <app-gallery [id]=\"journey.id.toString()\" [images]=\"[journey.images.previousPath, journey.images.currentPath, journey.images.nextPath]\"></app-gallery>\n      </div>\n    </div>\n\n    <app-recently-booked #recentlyBooked class=\"widget\" [realTimeUpdate]=\"realTimeUpdateRecentBookings\"></app-recently-booked>\n    <button *ngIf=\"step === 2 && ABtesting\" name=\"payment:2pay\" (click)=\"finishReview()\">Pay ${{ journey.amount }}</button>\n  </main>\n</app-main-layout>\n","import { Component, ElementRef, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport { JourneyService } from '@services/journey.service';\nimport { UserService } from '@services/user.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { BookingService } from '@services/booking.service';\nimport { PluginService } from '@services/plugins.service';\nimport { BookingRequest } from '@models/bookingRequest';\nimport { DataService } from '@services/data.service';\nimport { Journey } from '@models/journey';\nimport { User } from '@models/user';\nimport { AdobeService } from '@services/adobe.service';\nimport { BizEventService } from '@services/bizevent.service';\n\n@Component({\n  selector: 'app-book-journey',\n  templateUrl: './book-journey.component.html',\n  styleUrls: ['./book-journey.component.css']\n})\nexport class BookJourneyComponent implements OnInit, OnDestroy {\n\n  @ViewChild('recentlyBooked', { read: ElementRef })\n  recentlyBooked: ElementRef;\n\n  public journey: Journey;\n  public sub: any;\n  public step = 1;\n  public bookingConfirmed = false;\n  public bookingStatusError: string;\n  public realTimeUpdateRecentBookings = false;\n  public ABtesting = false;\n  public scrollOnReview = false;\n  public user: any;\n\n  constructor(\n    private journeyService: JourneyService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private userService: UserService,\n    private bookingService: BookingService,\n    private pluginService: PluginService,\n    private dataService: DataService,\n    private adobeService: AdobeService,\n    private bizEventService: BizEventService\n  ) { }\n\n  ngOnInit() {\n    if (this.userService.isAuthorized()) {\n      this.step++;\n    }\n\n    this.sub = this.route.params.subscribe(params => {\n      this.journeyService.getJourneyById(params.id)\n        .subscribe(journey => {\n          if (journey.error) {\n            this.router.navigate(['/search']);\n          } else {\n            this.journey = journey;\n            this.dataService.journey = journey;\n            this.adobeService.setJourneyPrice(journey.amount.toString());\n            this.dataService.determineTravellers();\n\n            if (this.step == 2) {\n              this.sendStep2Event();\n            }\n          }\n        });\n    });\n\n    this.pluginService.pluginScenarios.subscribe(scenarios => {\n      this.realTimeUpdateRecentBookings = scenarios.realTimeUpdateRecentBooking;\n      this.ABtesting = scenarios.ABtesting;\n      this.scrollOnReview = scenarios.scrollOnReview;\n    });\n\n    console.log('BookJourney ngOnInit');\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n\n  finishAuthorization(event: object) {\n    let bizEvent = this.bizEventService.createS06(this.userService.session().user.email, window.location.href,\n      this.journey.name, this.journey.tenant, this.journey.amount, this.journey.averageTotal,\n      (new Date(this.journey.fromDate)).toJSON().slice(0,10), (new Date(this.journey.toDate)).toJSON().slice(0,10),\n      this.bizEventService.countJourneyDayCount(this.journey.fromDate, this.journey.toDate), this.dataService.adults,\n      this.dataService.children);\n    this.bizEventService.sendBizEvent(bizEvent);\n\n    this.step++;\n\n    this.sendStep2Event();\n  }\n\n  private sendStep2Event() {\n    let bizEvent = this.bizEventService.createS08(window.location.href, this.journey.name, this.journey.tenant,\n      this.journey.amount, this.journey.averageTotal, (new Date(this.journey.fromDate)).toJSON().slice(0,10),\n      (new Date(this.journey.toDate)).toJSON().slice(0,10),\n      this.bizEventService.countJourneyDayCount(this.journey.fromDate, this.journey.toDate), this.dataService.adults,\n      this.dataService.children, this.userService.session().user.loyaltyStatus);\n    this.bizEventService.sendBizEvent(bizEvent);\n  }\n\n  finishReview() {\n    this.step++;\n    if (this.scrollOnReview) {\n      this.recentlyBooked.nativeElement.scrollIntoView();\n    }\n  }\n\n  finishBooking(event: any) {\n    this.user = this.userService.session().user;\n    const bookingReq = new BookingRequest(this.journey.id.toString(), this.user.email,\n      event.creditcard, this.journey.amount.toString(), this.dataService.travellers);\n\n    this.bookingService.doBooking(bookingReq).subscribe(res => {\n      this.step++;\n\n      let bizEvent = this.bizEventService.createS11(window.location.href, event.year + \"-\" + event.month,\n        this.journey.name, this.journey.tenant, this.journey.amount, this.journey.averageTotal,\n        (new Date(this.journey.fromDate)).toJSON().slice(0,10), (new Date(this.journey.toDate)).toJSON().slice(0,10),\n        this.bizEventService.countJourneyDayCount(this.journey.fromDate, this.journey.toDate), this.dataService.adults,\n        this.dataService.children, this.userService.session().user.loyaltyStatus);\n      this.bizEventService.sendBizEvent(bizEvent);\n\n      const errorMessage = this.dataService.errorMessage;\n      if (res.bookingId) {\n        this.bookingConfirmed = true;\n      } else if (errorMessage) {\n        this.bookingStatusError = errorMessage;\n        this.dataService.errorMessage = null;\n        throw errorMessage;\n      }\n    });\n  }\n\n  getSummaryAdditionalFields(): {name: string, value: string}[] {\n    return !this.user ? [] : [{name: 'Name', value: this.user.firstName}, {name: 'Surname', value: this.user.lastName},\n      {name: 'Email', value: this.user.email}, {name: 'Address', value: this.user.door + ' ' + this.user.street}];\n  }\n\n  onSummaryButtonClick() {\n    if (this.bookingConfirmed) {\n      this.step++;\n    }\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { UserService } from '@services/user.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  constructor(\n    private router: Router,\n    private userService: UserService\n  ) { }\n\n  ngOnInit() {\n    if (this.userService.isAuthorized()) {\n      this.router.navigate(['/']);\n    }\n  }\n\n  authorized(event: object) {\n    this.router.navigate(['/']);\n  }\n\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-contact',\n  templateUrl: './contact.component.html',\n  styleUrls: ['./contact.component.css']\n})\nexport class ContactComponent {\n}\n","<app-main-layout class=\"search-page\">\n  <main class=\"page-section main-section\">\n    <div class=\"container\">\n      <div class=\"address-container\">\n        <div>\n            <h2>World Headquarters</h2>\n            <h3>Massachusetts</h3>\n            <p>1601 Trapelo Road, Suite 116</p>\n            <p>Waltham, MA 02451</p>\n            <p>Phone: +1.781.530.1000</p>\n        </div>\n        <div class=\"map-container\">\n          <img src=\"/assets/imgs/boston-dt-map.png\">\n        </div>\n      </div>\n      <div class=\"address-container\">\n        <div>\n            <h3>Dynatrace Detroit</h3>\n            <p>One Campus Martius</p>\n            <p>Detroit, Michigan 48226</p>\n            <p>United States of America</p>\n            <p>Email: detroit@dynatrace.com</p>\n            <p>Phone: (313) 227-7300</p>\n        </div>\n        <div class=\"map-container\">\n          <img src=\"/assets/imgs/detroit-dt-map.png\">\n        </div>\n      </div>\n      <div class=\"address-container\">\n        <div>\n            <h2>Linz Office</h2>\n            <h3>Dynatrace Austria, Linz</h3>\n            <p>Freistaedter Strasse 313 / 2</p>\n            <p>4040 Linz</p>\n            <p>Austria</p>\n            <p>Email: info.austria@dynatrace.com</p>\n            <p>Phone: +43 732 908208</p>\n        </div>\n        <div class=\"map-container\">\n          <img src=\"/assets/imgs/linz-dt-map.png\">\n        </div>\n      </div>\n      <div class=\"address-container\">\n        <div>\n            <h2>Spain (Development)</h2>\n            <h3>Dynatrace SAU</h3>\n            <p>Carrer de Pallars, 99</p>\n            <p>08018 Barcelona</p>\n            <p>Spain</p>\n            <p>Email: bcn.office@dynatrace.com</p>\n            <p>Phone: +34 93 348 21 64</p>\n        </div>\n        <div class=\"map-container\">\n          <img src=\"/assets/imgs/barcelona-dt-map.png\">\n        </div>\n      </div>\n      <div class=\"address-container\">\n        <div>\n            <h2>Poland (Development)</h2>\n            <h3>Dynatrace sp. z.o.o.</h3>\n            <p>Al. Grunwaldzka 411</p>\n            <p>80-309 Gdansk</p>\n            <p>Poland</p>\n            <p>Email: gdn.office@dynatrace.com</p>\n            <p>Phone: +48 58 524 7800</p>\n        </div>\n        <div class=\"map-container\">\n          <img src=\"/assets/imgs/poland-dt-map.png\">\n        </div>\n      </div>\n      <div class=\"address-container\">\n        <div>\n            <h2>California</h2>\n            <p>951 Mariners Island Blvd. Suite 410</p>\n            <p>San Mateo, CA 94404</p>\n            <p>Phone: +1.650.436.6700</p>\n        </div>\n        <div class=\"map-container\">\n          <img src=\"/assets/imgs/california-dt-map.png\">\n        </div>\n      </div>\n      <div class=\"address-container\">\n        <div>\n            <h2>Austria (Development)</h2>\n            <h3>Dynatrace Austria GmbH</h3>\n            <p>Lakeside B08a</p>\n            <p>9020 Klagenfurt am Wrthersee</p>\n            <p>Austria</p>\n            <p>Email: emeainfo@dynatrace.com</p>\n            <p>Phone: +43 732 908208</p>\n        </div>\n        <div class=\"map-container\">\n          <img src=\"/assets/imgs/klagenfurt-dt-map.png\">\n        </div>\n      </div>\n    </div>\n  </main>\n</app-main-layout>","<app-main-layout class=\"login-page\">\n  <app-login-form class=\"login-form\" (authorized)=\"authorized($event)\"></app-login-form>\n</app-main-layout>\n","import {AbstractControl} from '@angular/forms';\n\nexport class CustomSignupValidations {\n\n  static MatchFieldValidations(AC: AbstractControl) {\n    const password = AC.get('password').value;\n    const confirmPassword = AC.get('confirmPassword').value;\n    if (password !== confirmPassword) {\n      AC.get('confirmPassword').setErrors( {MatchPassword: true} );\n    }\n\n    const email = AC.get('email').value;\n    const confirmEmail = AC.get('confirmEmail').value;\n    if (email !== confirmEmail) {\n      AC.get('confirmEmail').setErrors( {MatchEmail: true} );\n    }\n  }\n}\n","<form [formGroup]=\"form\" (submit)=\"onSubmit()\">\n  <label>\n    First Name *\n    <input formControlName=\"firstName\" [class]=\"isFieldValid('firstName')? 'invalid' : ''\">\n  </label>\n\n  <label>\n    Last Name *\n    <input formControlName=\"lastName\" [class]=\"isFieldValid('lastName')? 'invalid' : ''\">\n  </label>\n\n  <label>\n    Email *\n    <input formControlName=\"email\" [class]=\"isFieldValid('email')? 'invalid' : ''\">\n  </label>\n\n  <label for=\"confirmEmail\">Email (repeat) *\n    <input formControlName=\"confirmEmail\" [class]=\"isFieldValid('confirmEmail')? 'invalid' : ''\">\n  </label>\n\n  <label>\n    Password *\n    <input formControlName=\"password\" type=\"password\" [class]=\"isFieldValid('password')? 'invalid' : ''\">\n  </label>\n\n  <label>\n    Password (repeat) *\n    <input formControlName=\"confirmPassword\" type=\"password\" [class]=\"isFieldValid('confirmPassword')? 'invalid' : ''\">\n  </label>\n\n  <label>\n    State\n    <input formControlName=\"state\">\n  </label>\n\n  <label>\n    City\n    <input formControlName=\"city\">\n  </label>\n\n  <label>\n    Street\n    <input formControlName=\"street\">\n  </label>\n\n  <label>\n    Door\n    <input formControlName=\"door\">\n  </label>\n\n  <label>\n    Phone\n    <input formControlName=\"phone\">\n  </label>\n\n  <label *ngIf=\"errorMessage\" class=\"myError\">\n    {{errorMessage}}\n  </label>\n  \n  <button>Sign Up</button>\n</form>\n\n","import { Component, OnInit, Output, EventEmitter  } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { CustomSignupValidations } from './custom-signup-validations';\nimport { Router } from '@angular/router';\nimport { UserService } from '@services/user.service';\nimport { DataService } from '@services/data.service';\nimport { BizEventService } from '@services/bizevent.service';\n\n@Component({\n  selector: 'app-signup-form',\n  templateUrl: './signup-form.component.html',\n  styleUrls: ['./signup-form.component.css']\n})\n\nexport class SignupFormComponent implements OnInit {\n\n  @Output() authorized = new EventEmitter<any>();\n\n  private formSubmitAttempt: boolean;\n  form;\n  errorMessage: any;\n\n  constructor(\n    private router: Router,\n    private formBuilder: FormBuilder,\n    private userService: UserService,\n    private dataService: DataService,\n    private bizEventService: BizEventService\n  ) { }\n\n  ngOnInit() {\n    this.form = this.formBuilder.group({\n        firstName: ['', Validators.compose([\n          Validators.required,\n          Validators.minLength(3)\n        ])],\n        lastName: ['', Validators.required],\n        email: ['', Validators.compose([\n          Validators.required,\n          Validators.email\n        ])],\n        confirmEmail: ['', Validators.required],\n        password: ['', Validators.required],\n        confirmPassword: ['', Validators.required],\n        state: [''],\n        city: [''],\n        street: [''],\n        door: [''],\n        phone: ['']\n    },\n      {\n        validator: CustomSignupValidations.MatchFieldValidations\n      });\n\n    this.dataService.errorMessage = null;\n    this.errorMessage = null;\n\n    let bizEvent = this.bizEventService.createS14();\n    this.bizEventService.sendBizEvent(bizEvent);\n  }\n\n  isFieldValid(field: string) {\n    return (!this.form.get(field).valid && this.form.get(field).touched) ||\n      (this.form.get(field).untouched && this.formSubmitAttempt);\n  }\n\n  onSubmit(): void {\n    const user = this.form.value;\n\n    let bizEvent = this.bizEventService.createS15(user.firstName, user.lastName, user.email, user.state, user.city,\n      user.street, user.door, user.phone);\n    this.bizEventService.sendBizEvent(bizEvent);\n\n    this.formSubmitAttempt = true;\n    if (!this.form.valid) {\n      var errorMessage: string[];\n      errorMessage = [];\n\n      if (!this.form.get(\"firstName\").valid) {\n        errorMessage.push(\"firstname not provided\");\n      }\n      if (!this.form.get(\"lastName\").valid) {\n        errorMessage.push(\"lastName not provided\");\n      }\n      if (!this.form.get(\"email\").valid) {\n        errorMessage.push(\"email not provided\");\n      }\n      if (!this.form.get(\"password\").valid) {\n        errorMessage.push(\"password not provided\");\n      }\n      if (this.form.get(\"email\").valid && !this.form.get(\"confirmEmail\").valid) {\n        errorMessage.push(\"email does not match repeat email\");\n      }\n      if (this.form.get(\"password\").valid && !this.form.get(\"confirmPassword\").valid) {\n        errorMessage.push(\"password does not match repeat password\");\n      }\n\n      let errorBizEvent = this.bizEventService.createS16(errorMessage);\n      this.bizEventService.sendBizEvent(errorBizEvent);\n\n      return;\n    }\n\n    const signupUser = {\n      firstName: user.firstName,\n      lastName: user.lastName,\n      email: user.email,\n      password: user.password,\n      state: user.state,\n      city: user.city,\n      street: user.street,\n      door: user.door,\n      phone: user.phone\n    };\n\n    this.userService.signin(signupUser)\n      .subscribe(() => {\n        this.errorMessage = this.dataService.errorMessage;\n        if (!this.errorMessage) {\n          this.router.navigate(['/login']);\n        }\n      });\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { DataService } from '@services/data.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-error-page',\n  templateUrl: './error-page.component.html',\n  styleUrls: ['./error-page.component.css']\n})\nexport class ErrorPageComponent implements OnInit {\n\n  constructor(private dataService: DataService, private router: Router) { }\n\n  ngOnInit() {\n    throw this.dataService.errorMessage;\n  }\n\n  goHome() {\n    this.router.navigate(['/']);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { UserService } from '@services/user.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.component.html',\n  styleUrls: ['./signup.component.css']\n})\nexport class SignupComponent implements OnInit {\n\n  constructor(\n    private router: Router,\n    private userService: UserService\n  ) { }\n\n  ngOnInit() {\n    if (this.userService.isAuthorized()) {\n      this.router.navigate(['/']);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { HomeComponent } from '@components/home/home.component';\nimport { SearchComponent } from '@components/search/search.component';\nimport { JourneyComponent } from '@components/journey/journey.component';\nimport { BookJourneyComponent } from '@components/book-journey/book-journey.component';\nimport { ContactComponent } from '@components/contact/contact.component';\nimport { LoginComponent } from '@components/login/login.component';\nimport { SignupComponent } from '@components/signup/signup.component';\nimport { ErrorPageComponent } from '@components/error-page/error-page.component';\n\nconst routes: Routes = [\n  { path: '', redirectTo: 'home', pathMatch: 'full' },\n  { path: 'home', component: HomeComponent },\n  { path: 'search', component: SearchComponent },\n  { path: 'journeys/:id', component: JourneyComponent },\n  { path: 'journeys/:id/book', component: BookJourneyComponent },\n  { path: 'contact', component: ContactComponent },\n  { path: 'login', component: LoginComponent },\n  { path: 'signup', component: SignupComponent },\n  { path: 'error-page', component: ErrorPageComponent }\n];\n\n@NgModule({\n  imports: [ RouterModule.forRoot(routes) ],\n  exports: [ RouterModule ]\n})\nexport class AppRoutingModule {}\n","import { Component } from '@angular/core';\nimport { PluginService } from '@services/plugins.service';\nimport { v4 as uuidv4 } from 'uuid';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { AdobeService } from '@services/adobe.service';\nimport { enableOpenTelemetry } from '../enable-open-telemetry';\nimport { environment } from '../environments/environment';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  constructor(private pluginService: PluginService, private router: Router, private adobeService: AdobeService) {\n    pluginService.refreshPluginsList()\n      .subscribe((plugins) => {\n        if (plugins.includes('OpenTelemetry')) {\n          enableOpenTelemetry(environment.serverUrl);\n        }\n      });\n\n    this.router.events.forEach((event) => {\n      if (event instanceof NavigationEnd) {\n        console.log('Routing: ');\n        console.log(event);\n\n        const pageUrl = window.location.hostname + window.location.pathname;\n\n        switch ((event as NavigationEnd).url) {\n        case '/home': {\n          this.adobeService.setPageParams('easyTravel Home', pageUrl, 'home');\n          break;\n        }\n        case '/search': {\n          this.adobeService.setPageParams('easyTravel search results', pageUrl, 'saerch results');\n          break;\n        }\n        case '/contact': {\n          this.adobeService.setPageParams('easyTravel contact information', pageUrl, 'contact information');\n          break;\n        }\n        case '/login': {\n          this.adobeService.setPageParams('easyTravel login', pageUrl, 'login');\n          break;\n        }\n        case '/signup': {\n          this.adobeService.setPageParams('easyTravel signup', pageUrl, 'signup');\n          break;\n        }\n        case '/error-page': {\n          this.adobeService.setPageParams('easyTravel error-page', pageUrl, 'error-page');\n          break;\n        }\n        default:\n        {\n\n          if ((event as NavigationEnd).url.includes('journeys')) {\n            this.adobeService.setPageParams('easyTravel journey', pageUrl, 'journey');\n\n            if ((event as NavigationEnd).url.includes('book')) {\n              this.adobeService.setPageParams('easyTravel book journey', pageUrl, 'journey');\n            }\n          }\n\n          break;\n        }\n        }\n      }\n    });\n\n  }\n}\n\ndeclare global {\n  interface Window {\n    Intercom: Function;\n  }\n}\n\nwindow.Intercom = (param) => {\n  if (!localStorage.getItem('UUID')) {\n    localStorage.setItem('UUID', uuidv4());\n  }\n  return localStorage.getItem('UUID');\n};\n\n","<app-main-layout class=\"signup-page\">\n  <app-signup-form class=\"signup-form\"></app-signup-form>\n</app-main-layout>\n","<div id=\"errorpage\">\n\t<div class=\"errorpage\">\n\t\t<h2>500 - Server error</h2>\n\t\t<p>Sorry, we had some technical problems during your last operation.</p>\n\t\t<button type=\"button\" (click)=\"goHome()\">Go To Homepage</button>\n\t</div>\n</div>","import { WebTracerProvider } from '@opentelemetry/web';\nimport { UserInteractionPlugin } from '@opentelemetry/plugin-user-interaction';\nimport { DocumentLoad } from '@opentelemetry/plugin-document-load';\nimport { SimpleSpanProcessor } from '@opentelemetry/tracing';\nimport { ZoneContextManager } from '@opentelemetry/context-zone';\nimport { CollectorTraceExporter } from '@opentelemetry/exporter-collector';\nimport { XMLHttpRequestInstrumentation } from '@opentelemetry/instrumentation-xml-http-request/build/src/xhr';\nimport { FetchPlugin } from '@opentelemetry/plugin-fetch';\n\nexport function enableOpenTelemetry(baseUrl: string) {\n  const provider = new WebTracerProvider({\n    plugins: [\n      new DocumentLoad(),\n      new UserInteractionPlugin(),\n      new XMLHttpRequestInstrumentation({\n        ignoreUrls: [/sockjs-node/],\n      }),\n      new FetchPlugin({\n        ignoreUrls: [/sockjs-node/],\n      }),\n    ],\n  });\n\n  // provider.addSpanProcessor(new SimpleSpanProcessor(new ConsoleSpanExporter()));\n  const collectorConfig = {\n    url: `${baseUrl}opentelemetry`,\n    serviceName: 'easytravel-angular',\n  };\n  provider.addSpanProcessor(new SimpleSpanProcessor(new CollectorTraceExporter(collectorConfig)));\n\n  provider.register({\n    contextManager: new ZoneContextManager(),\n  });\n}\n","<router-outlet></router-outlet>\n","import { NgModule, ErrorHandler, Injectable } from '@angular/core';\r\n\r\n// Dyntrace error reporter\r\ndeclare var dtrum: any;\r\n\r\n@Injectable()\nexport class AppErrorHandler implements ErrorHandler {\r\n  handleError(error) {\r\n    if  (typeof dtrum !== 'undefined') {\r\n      dtrum.reportError(error);\r\n    }\r\n    console.error(error);\r\n  }\r\n}\r\n","import { ErrorHandler, NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { EventsService } from '@services/events.service';\nimport { DpDatePickerModule } from 'ng2-date-picker';\nimport { NguiAutoCompleteModule } from '@ngui/auto-complete';\nimport { SlideshowModule } from 'ng-simple-slideshow';\nimport { FaIconLibrary, FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { faLock, faUnlock } from '@fortawesome/free-solid-svg-icons';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { HomeComponent } from '@components/home/home.component';\nimport { LocationService } from '@services/location.service';\nimport { JourneyService } from '@services/journey.service';\nimport { UserService } from '@services/user.service';\nimport { BookingService } from '@services/booking.service';\nimport { CreditCardValidationService } from '@services/creditcard-validation.service';\nimport { PluginService } from '@services/plugins.service';\nimport { ConfigService } from '@services/config.service';\nimport { HeaderComponent } from '@components/header/header.component';\nimport { FooterComponent } from '@components/footer/footer.component';\nimport { HeroComponent } from '@components/hero/hero.component';\nimport { HomeMainComponent } from '@components/home-main/home-main.component';\nimport { FootnoteComponent } from '@components/footnote/footnote.component';\nimport { GalleryComponent } from '@components/gallery/gallery.component';\nimport { LoginComponent } from '@components/login/login.component';\nimport { LoginFormComponent } from '@components/login-form/login-form.component';\nimport { SearchComponent } from '@components/search/search.component';\nimport { MainLayoutComponent } from '@components/main-layout/main-layout.component';\nimport { OfferComponent } from '@components/offer/offer.component';\nimport { OfferStatComponent } from '@components/offer-stat/offer-stat.component';\nimport { OffersListComponent } from '@components/offers-list/offers-list.component';\nimport { SignupComponent } from '@components/signup/signup.component';\nimport { SignupFormComponent } from '@components/signup-form/signup-form.component';\nimport { ContactComponent } from '@components/contact/contact.component';\nimport { JourneyComponent } from '@components/journey/journey.component';\nimport { RecentlyBookedComponent } from '@components/recently-booked/recently-booked.component';\nimport { BookJourneyComponent } from '@components/book-journey/book-journey.component';\nimport { BillingComponent } from '@components/billing/billing.component';\nimport { WeatherComponent } from '@components/weather/weather.component';\nimport { ErrorPageComponent } from '@components/error-page/error-page.component';\nimport { AppErrorHandler } from './app-error-handler';\nimport { DataService } from '@services/data.service';\nimport { SafePipe } from '@pipes/safe.pipe';\nimport { DatePipe } from '@angular/common';\nimport { JourneySummaryComponent } from '@components/journey-summary/journey-summary.component';\nimport { AdobeService } from '@services/adobe.service';\nimport { BizEventService } from '@services/bizevent.service';\n\n\n@NgModule({\n  imports: [\n    BrowserModule,\n    FormsModule,\n    ReactiveFormsModule,\n    AppRoutingModule,\n    HttpClientModule,\n    DpDatePickerModule,\n    NguiAutoCompleteModule,\n    SlideshowModule,\n    FontAwesomeModule\n  ],\n  declarations: [\n    AppComponent,\n    HomeComponent,\n    HeaderComponent,\n    FooterComponent,\n    HeroComponent,\n    HomeMainComponent,\n    FootnoteComponent,\n    GalleryComponent,\n    LoginComponent,\n    LoginFormComponent,\n    SearchComponent,\n    MainLayoutComponent,\n    OfferComponent,\n    OfferStatComponent,\n    OffersListComponent,\n    SignupComponent,\n    SignupFormComponent,\n    ContactComponent,\n    JourneyComponent,\n    RecentlyBookedComponent,\n    BookJourneyComponent,\n    BillingComponent,\n    WeatherComponent,\n    SafePipe,\n    ErrorPageComponent,\n    JourneySummaryComponent\n  ],\n  providers: [\n    LocationService,\n    JourneyService,\n    UserService,\n    BookingService,\n    CreditCardValidationService,\n    PluginService,\n    ConfigService,\n    DataService,\n    DatePipe,\n    {provide: ErrorHandler, useClass: AppErrorHandler},\n    AdobeService,\n    BizEventService,\n    EventsService\n  ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule {\n  constructor(library: FaIconLibrary) {\n    // Add an icon to the library for convenient access in other components\n    library.addIcons(faLock, faUnlock);\n  }\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nimport axios from 'axios';\nObject.defineProperty(window, 'axios', {\n  get() { return axios; }\n});\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"]}